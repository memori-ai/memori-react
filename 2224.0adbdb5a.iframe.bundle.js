"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[2224],{"./src/components/Chat/Chat.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_helpers_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/utils.ts"),_helpers_media__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/helpers/media.ts"),_ChatBubble_ChatBubble__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ChatBubble/ChatBubble.tsx"),_MediaWidget_MediaWidget__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/MediaWidget/MediaWidget.tsx"),_ui_Button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/Button.tsx"),_ChatInputs_ChatInputs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ChatInputs/ChatInputs.tsx"),_Typing_Typing__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Typing/Typing.tsx"),_helpers_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/constants.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Chat=({memori,tenant,sessionID,baseUrl,apiUrl,translateTo,memoriTyping,typingText,showTypingText=!1,history=[],authToken,dialogState,simulateUserPrompt,showDates=!1,showContextPerLine=!1,showAIicon=!0,selectReceiverTag,preview=!1,instruct=!1,showInputs=!0,showMicrophone=!1,microphoneMode="HOLD_TO_TALK",sendOnEnter,setSendOnEnter,attachmentsMenuOpen,setAttachmentsMenuOpen,userMessage="",onChangeUserMessage,sendMessage,listening,isPlayingAudio,stopAudio,startListening,stopListening,resetTranscript,customMediaRenderer,user,userAvatar,experts})=>{const scrollToBottom=()=>{setTimeout((()=>{document.querySelector(".memori-chat--content")?.scrollTo(0,document.querySelector(".memori-chat--content")?.scrollHeight??0)}),200)};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{!preview&&scrollToBottom()}),[history,preview]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat--wrapper",{"memori-chat-wrapper--translate":translateTo}),id:"chat-wrapper",lang:translateTo?.toUpperCase(),"data-memori-lang":memori.culture?.split("-")?.[0]?.toUpperCase()??"EN",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat--history",{"memori-chat--history-touch":(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_2__.xZ)()}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat--content",{"memori-chat--content-touch":(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_2__.xZ)()}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat--cover"),style:{backgroundImage:`url("${(0,_helpers_media__WEBPACK_IMPORTED_MODULE_10__.v)({type:"cover",tenantID:tenant?.id,resourceURI:memori.coverURL,baseURL:baseUrl,apiURL:apiUrl})}"), url("${(0,_helpers_media__WEBPACK_IMPORTED_MODULE_10__.v)({type:"cover",tenantID:tenant?.id,baseURL:baseUrl||"https://app.twincreator.com",apiURL:apiUrl})}")`}}),history.map(((message,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ChatBubble_ChatBubble__WEBPACK_IMPORTED_MODULE_3__.Z,{isFirst:0===index,message,memori,tenant,baseUrl,apiUrl,simulateUserPrompt,showAIicon,showFeedback:index===history.length-1&&!message.fromUser&&dialogState?.acceptsFeedback,user,userAvatar,experts}),showDates&&!!message.timestamp&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("small",{className:"memori-chat--timestamp "+(message.fromUser?"text-right":"text-left"),children:new Intl.DateTimeFormat("it",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date(message.timestamp.endsWith("Z")?message.timestamp:`${message.timestamp}Z`))}),showContextPerLine&&!!Object.keys(message.contextVars??{}).length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"memori-chat--context-vars",children:Object.keys(message.contextVars??{}).map((key=>"-"===message.contextVars?.[key]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"memori-chat--context-tag memori-chat--context-tag-canceled",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span",{className:"memori-chat--context-tag-text",children:key})},key):"✔️"===message.contextVars?.[key]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"memori-chat--context-tag",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span",{className:"memori-chat--context-tag-text",children:key})},key):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"memori-chat--context-tag",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("span",{className:"memori-chat--context-tag-text",children:[key,": ",message.contextVars?.[key]]})},key)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_MediaWidget_MediaWidget__WEBPACK_IMPORTED_MODULE_4__.Z,{simulateUserPrompt,media:message?.media?.filter((m=>"text/html"!==m.mimeType&&"text/plain"!==m.mimeType)),links:message?.media?.filter((m=>"text/html"===m.mimeType)),sessionID,baseUrl,apiUrl,translateTo,customMediaRenderer})]},index))),dialogState?.hints&&dialogState.hints.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_MediaWidget_MediaWidget__WEBPACK_IMPORTED_MODULE_4__.Z,{simulateUserPrompt,hints:dialogState.translatedHints?dialogState.translatedHints:dialogState.hints.map((h=>({text:h,originalText:h})))}),!!memoriTyping&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_Typing_Typing__WEBPACK_IMPORTED_MODULE_7__.Z,{useDefaultSentences:showTypingText,lang:translateTo?"it"===translateTo.toLowerCase()?"it":"en":"it"===memori.culture?.split("-")?.[0]?.toLowerCase()?"it":"en",sentence:typingText,sentences:memori.enableBoardOfExperts?_helpers_constants__WEBPACK_IMPORTED_MODULE_8__.DZ:void 0},typingText),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{id:"end-messages-ref"})]})}),"X3"===dialogState?.state&&sessionID&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"memori-chat--known-tags",children:Object.keys(dialogState.knownTags??{}).filter((t=>t!==memori.giverTag)).map((tag=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_5__.Z,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span",{className:"memori-chat--known-tag-icon",children:tag}),className:"memori-chat--known-tag",onClick:()=>selectReceiverTag(tag),children:dialogState.knownTags?.[tag]},tag)))}),showInputs&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ChatInputs_ChatInputs__WEBPACK_IMPORTED_MODULE_6__.Z,{userMessage,onChangeUserMessage,dialogState,instruct,authToken,sendMessage,microphoneMode,sendOnEnter,setSendOnEnter,attachmentsMenuOpen,setAttachmentsMenuOpen,onTextareaPressEnter:()=>{"keypress"===sendOnEnter&&userMessage?.length>0&&(stopListening(),sendMessage(userMessage),onChangeUserMessage(""),resetTranscript())},onTextareaFocus:()=>{stopListening(),(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_2__.xZ)()&&window.innerWidth<=768&&(document.getElementById("chat-wrapper")?.classList?.add("chat-focused"),document.querySelector(".memori.memori-widget")?.classList?.add("chat-focused"),setTimeout((()=>{scrollToBottom()}),300))},onTextareaBlur:()=>{document.getElementById("chat-wrapper")?.classList?.contains("chat-focused")&&(document.getElementById("chat-wrapper")?.classList.remove("chat-focused"),document.querySelector(".memori.memori-widget")?.classList?.remove("chat-focused"),scrollToBottom())},startListening,stopListening,stopAudio,listening,isPlayingAudio,showMicrophone})]})};Chat.displayName="Chat";const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Chat);try{Chat.displayName="Chat",Chat.__docgenInfo={description:"",displayName:"Chat",props:{memori:{defaultValue:null,description:"",name:"memori",required:!0,type:{name:"Memori"}},tenant:{defaultValue:null,description:"",name:"tenant",required:!1,type:{name:"Tenant"}},sessionID:{defaultValue:null,description:"",name:"sessionID",required:!0,type:{name:"string"}},translateTo:{defaultValue:null,description:"",name:"translateTo",required:!1,type:{name:"string"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},apiUrl:{defaultValue:null,description:"",name:"apiUrl",required:!1,type:{name:"string"}},memoriTyping:{defaultValue:null,description:"",name:"memoriTyping",required:!1,type:{name:"boolean"}},typingText:{defaultValue:null,description:"",name:"typingText",required:!1,type:{name:"string"}},showTypingText:{defaultValue:{value:"false"},description:"",name:"showTypingText",required:!1,type:{name:"boolean"}},history:{defaultValue:{value:"[]"},description:"",name:"history",required:!1,type:{name:"Message[]"}},authToken:{defaultValue:null,description:"",name:"authToken",required:!1,type:{name:"string"}},dialogState:{defaultValue:null,description:"",name:"dialogState",required:!1,type:{name:"DialogState"}},setDialogState:{defaultValue:null,description:"",name:"setDialogState",required:!0,type:{name:"(dialogState: DialogState) => void"}},pushMessage:{defaultValue:null,description:"",name:"pushMessage",required:!0,type:{name:"(message: Message) => void"}},simulateUserPrompt:{defaultValue:null,description:"",name:"simulateUserPrompt",required:!0,type:{name:"(text: string, translatedText?: string | undefined) => void"}},showDates:{defaultValue:{value:"false"},description:"",name:"showDates",required:!1,type:{name:"boolean"}},showContextPerLine:{defaultValue:{value:"false"},description:"",name:"showContextPerLine",required:!1,type:{name:"boolean"}},showAIicon:{defaultValue:{value:"true"},description:"",name:"showAIicon",required:!1,type:{name:"boolean"}},client:{defaultValue:null,description:"",name:"client",required:!0,type:{name:'{ constants: { HOSTNAME: string; BACKEND_URL: string; ENGINE_URL: string; allowedMediaTypes: string[]; anonTag: "👤"; }; asset: { getResourceUrl: ({ type, resourceURI, sessionID, baseURL, }: ResourceURLParams) => string; }; ... 111 more ...; backend: { ...; }; }'}},selectReceiverTag:{defaultValue:null,description:"",name:"selectReceiverTag",required:!0,type:{name:"(tag: string) => Promise<void>"}},preview:{defaultValue:{value:"false"},description:"",name:"preview",required:!1,type:{name:"boolean"}},microphoneMode:{defaultValue:{value:"HOLD_TO_TALK"},description:"",name:"microphoneMode",required:!1,type:{name:"enum",value:[{value:'"HOLD_TO_TALK"'},{value:'"CONTINUOUS"'}]}},sendOnEnter:{defaultValue:null,description:"",name:"sendOnEnter",required:!1,type:{name:"enum",value:[{value:'"keypress"'},{value:'"click"'}]}},setSendOnEnter:{defaultValue:null,description:"",name:"setSendOnEnter",required:!0,type:{name:'(sendOnEnter: "keypress" | "click") => void'}},attachmentsMenuOpen:{defaultValue:null,description:"",name:"attachmentsMenuOpen",required:!1,type:{name:"enum",value:[{value:'"link"'},{value:'"media"'}]}},setAttachmentsMenuOpen:{defaultValue:null,description:"",name:"setAttachmentsMenuOpen",required:!0,type:{name:'(attachmentsMenuOpen: "link" | "media") => void'}},instruct:{defaultValue:{value:"false"},description:"",name:"instruct",required:!1,type:{name:"boolean"}},showInputs:{defaultValue:{value:"true"},description:"",name:"showInputs",required:!1,type:{name:"boolean"}},showMicrophone:{defaultValue:{value:"false"},description:"",name:"showMicrophone",required:!1,type:{name:"boolean"}},userMessage:{defaultValue:{value:""},description:"",name:"userMessage",required:!1,type:{name:"string"}},onChangeUserMessage:{defaultValue:null,description:"",name:"onChangeUserMessage",required:!0,type:{name:"(userMessage: string) => void"}},sendMessage:{defaultValue:null,description:"",name:"sendMessage",required:!0,type:{name:"(msg: string) => void"}},listening:{defaultValue:null,description:"",name:"listening",required:!1,type:{name:"boolean"}},isPlayingAudio:{defaultValue:null,description:"",name:"isPlayingAudio",required:!1,type:{name:"boolean"}},stopAudio:{defaultValue:null,description:"",name:"stopAudio",required:!0,type:{name:"() => void"}},startListening:{defaultValue:null,description:"",name:"startListening",required:!0,type:{name:"() => void"}},stopListening:{defaultValue:null,description:"",name:"stopListening",required:!0,type:{name:"() => void"}},resetTranscript:{defaultValue:null,description:"",name:"resetTranscript",required:!0,type:{name:"() => void"}},customMediaRenderer:{defaultValue:null,description:"",name:"customMediaRenderer",required:!1,type:{name:"((mimeType: string) => Element | null)"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"DEFAULT"'},{value:'"FULLPAGE"'},{value:'"TOTEM"'},{value:'"CHAT"'},{value:'"WEBSITE_ASSISTANT"'}]}},userAvatar:{defaultValue:null,description:"",name:"userAvatar",required:!1,type:{name:"string | Element"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"User"}},experts:{defaultValue:null,description:"",name:"experts",required:!1,type:{name:"ExpertReference[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Chat/Chat.tsx#Chat"]={docgenInfo:Chat.__docgenInfo,name:"Chat",path:"src/components/Chat/Chat.tsx#Chat"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChatBubble/ChatBubble.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_headlessui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_helpers_media__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/helpers/media.ts"),_icons_User__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/User.tsx"),_icons_AI__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/AI.tsx"),_ui_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/Tooltip.tsx"),_FeedbackButtons_FeedbackButtons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/FeedbackButtons/FeedbackButtons.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),marked__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/marked/lib/marked.esm.js"),dompurify__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/dompurify/dist/purify.js"),_helpers_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/helpers/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");marked__WEBPACK_IMPORTED_MODULE_6__.TU.use({async:!1,gfm:!0,pedantic:!0,renderer:{link(href,title,text){const cleanHref=(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_8__.bw)(href);if(null===cleanHref)return text;let out='<a href="'+(href=cleanHref)+'"';return title&&(out+=' title="'+title+'"'),out+=' target="_blank" rel="noopener noreferrer">'+text+"</a>",out}}});const ChatBubble=({message,memori,tenant,baseUrl,apiUrl,showFeedback,simulateUserPrompt,showAIicon=!0,isFirst=!1,user,userAvatar,experts})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.$)(),renderedText=(0,dompurify__WEBPACK_IMPORTED_MODULE_7__.sanitize)(marked__WEBPACK_IMPORTED_MODULE_6__.TU.parse(message.translatedText??message.text),{ADD_ATTR:["target"]});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:[(message.initial||isFirst)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"memori-chat--bubble-initial"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_11__.u,{show:!0,appear:!0,as:"div",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat--bubble-container",{"memori-chat--bubble-from-user":!!message.fromUser,"memori-chat--with-addon":message.generatedByAI&&showAIicon||showFeedback&&simulateUserPrompt}),children:[!message.fromUser&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_11__.u.Child,{as:"picture",className:"memori-chat--bubble-avatar",enter:"transition ease-in-out duration-300",enterFrom:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),enterTo:"opacity-1 scale-1 translate-x-0",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-1 scale-1 translate-x-0",leaveTo:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),title:message.emitter?.length&&memori.enableBoardOfExperts?message.emitter:memori.name,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("img",{className:"memori-chat--bubble-avatar-img",alt:message.emitter?.length&&memori.enableBoardOfExperts?message.emitter:memori.name,src:message.emitter?.length&&memori.enableBoardOfExperts&&experts?.find((e=>e.name===message.emitter))?`${apiUrl}/api/v1/memoriai/memori/avatar/${experts.find((e=>e.name===message.emitter))?.expertMemoriID}`:memori.avatarURL&&memori.avatarURL.length>0?(0,_helpers_media__WEBPACK_IMPORTED_MODULE_12__.v)({type:"avatar",tenantID:tenant?.id,resourceURI:memori.avatarURL,baseURL:baseUrl,apiURL:apiUrl}):(0,_helpers_media__WEBPACK_IMPORTED_MODULE_12__.v)({tenantID:tenant?.id,type:"avatar",baseURL:baseUrl||"https://app.twincreator.com",apiURL:apiUrl}),onError:e=>{e.currentTarget.src=memori.avatarURL&&memori.avatarURL.length>0?(0,_helpers_media__WEBPACK_IMPORTED_MODULE_12__.v)({type:"avatar",tenantID:tenant?.id,resourceURI:memori.avatarURL,baseURL:baseUrl}):(0,_helpers_media__WEBPACK_IMPORTED_MODULE_12__.v)({tenantID:tenant?.id,type:"avatar",baseURL:baseUrl}),e.currentTarget.onerror=null}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_11__.u.Child,{as:"div",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat--bubble",{"memori-chat--user-bubble":!!message.fromUser,"memori-chat--with-addon":message.generatedByAI&&showAIicon||showFeedback&&simulateUserPrompt,"memori-chat--ai-generated":message.generatedByAI&&showAIicon,"memori-chat--with-feedback":showFeedback}),enter:"transition ease-in-out duration-300",enterFrom:"opacity-0 scale-09 translate-x-"+(message.fromUser?"30":"-30"),enterTo:"opacity-1 scale-1 translate-x-0",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-1 scale-1 translate-x-0",leaveTo:"opacity-0 scale-09  translate-x-"+(message.fromUser?"30":"-30"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{dangerouslySetInnerHTML:{__html:renderedText}}),(message.generatedByAI&&showAIicon||showFeedback&&simulateUserPrompt)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"memori-chat--bubble-addon",children:[showFeedback&&!!simulateUserPrompt&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_FeedbackButtons_FeedbackButtons__WEBPACK_IMPORTED_MODULE_5__.Z,{memori,className:"memori-chat--bubble-feedback",dropdown:!0,onNegativeClick:msg=>{msg&&simulateUserPrompt(msg)}}),message.generatedByAI&&showAIicon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ui_Tooltip__WEBPACK_IMPORTED_MODULE_4__.Z,{align:"left",content:t("generatedByAI"),className:"memori-chat--bubble-ai-icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_icons_AI__WEBPACK_IMPORTED_MODULE_3__.default,{title:t("generatedByAI")||void 0})})})]})]}),message.fromUser&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:userAvatar&&"string"==typeof userAvatar||!userAvatar&&user?.avatarURL?.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_11__.u.Child,{as:"picture",className:"memori-chat--bubble-avatar",enter:"transition ease-in-out duration-300",enterFrom:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),enterTo:"opacity-1 scale-1 translate-x-0",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-1 scale-1 translate-x-0",leaveTo:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("img",{className:"memori-chat--bubble-avatar-img",alt:user?.userName??"User",src:userAvatar??user?.avatarURL})}):userAvatar?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_11__.u.Child,{as:"div",className:"memori-chat--bubble-avatar",enter:"transition ease-in-out duration-300",enterFrom:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),enterTo:"opacity-1 scale-1 translate-x-0",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-1 scale-1 translate-x-0",leaveTo:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),children:userAvatar}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_11__.u.Child,{as:"div",className:"memori-chat--bubble-avatar",enter:"transition ease-in-out duration-300",enterFrom:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),enterTo:"opacity-1 scale-1 translate-x-0",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-1 scale-1 translate-x-0",leaveTo:"opacity-0 scale-075 "+(message.fromUser?"translate-x-15":"translate-x--15"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_icons_User__WEBPACK_IMPORTED_MODULE_2__.default,{})})})]})]})},__WEBPACK_DEFAULT_EXPORT__=ChatBubble;try{ChatBubble.displayName="ChatBubble",ChatBubble.__docgenInfo={description:"",displayName:"ChatBubble",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"Message"}},memori:{defaultValue:null,description:"",name:"memori",required:!0,type:{name:"Memori"}},tenant:{defaultValue:null,description:"",name:"tenant",required:!1,type:{name:"Tenant"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},apiUrl:{defaultValue:null,description:"",name:"apiUrl",required:!1,type:{name:"string"}},showFeedback:{defaultValue:null,description:"",name:"showFeedback",required:!1,type:{name:"boolean"}},simulateUserPrompt:{defaultValue:null,description:"",name:"simulateUserPrompt",required:!1,type:{name:"((msg: string) => void)"}},showAIicon:{defaultValue:{value:"true"},description:"",name:"showAIicon",required:!1,type:{name:"boolean"}},isFirst:{defaultValue:{value:"false"},description:"",name:"isFirst",required:!1,type:{name:"boolean"}},userAvatar:{defaultValue:null,description:"",name:"userAvatar",required:!1,type:{name:"string | Element"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"User"}},experts:{defaultValue:null,description:"",name:"experts",required:!1,type:{name:"ExpertReference[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatBubble/ChatBubble.tsx#ChatBubble"]={docgenInfo:ChatBubble.__docgenInfo,name:"ChatBubble",path:"src/components/ChatBubble/ChatBubble.tsx#ChatBubble"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChatInputs/ChatInputs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _SendOnEnterMenu_SendOnEnterMenu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/SendOnEnterMenu/SendOnEnterMenu.tsx"),_ChatTextArea_ChatTextArea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ChatTextArea/ChatTextArea.tsx"),_ui_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/Button.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_icons_Send__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/Send.tsx"),_MicrophoneButton_MicrophoneButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/MicrophoneButton/MicrophoneButton.tsx"),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),_icons_Microphone__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/icons/Microphone.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChatInputs=({dialogState,sendOnEnter="click",setSendOnEnter,userMessage="",onChangeUserMessage,sendMessage,onTextareaFocus,onTextareaBlur,onTextareaPressEnter,showMicrophone=!1,microphoneMode="HOLD_TO_TALK",listening=!1,stopAudio,startListening,stopListening})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.$)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("fieldset",{id:"chat-fieldset",className:"memori-chat-inputs",disabled:"X2a"===dialogState?.state||"X3"===dialogState?.state,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_SendOnEnterMenu_SendOnEnterMenu__WEBPACK_IMPORTED_MODULE_1__.Z,{sendOnEnter,setSendOnEnter}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_ChatTextArea_ChatTextArea__WEBPACK_IMPORTED_MODULE_2__.Z,{value:userMessage,onChange:onChangeUserMessage,onPressEnter:onTextareaPressEnter,onFocus:onTextareaFocus,onBlur:onTextareaBlur,disabled:["R2","R3","R4","R5","G3","X3"].includes(dialogState?.state||"")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_3__.Z,{shape:"circle",primary:!!userMessage?.length,disabled:!userMessage||0===userMessage.length,className:"memori-chat-inputs--send",onClick:()=>{sendMessage(userMessage),stopAudio(),speechSynthesis.speak(new SpeechSynthesisUtterance(""))},title:t("send")||"Send",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_icons_Send__WEBPACK_IMPORTED_MODULE_4__.default,{})}),showMicrophone&&"HOLD_TO_TALK"===microphoneMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_MicrophoneButton_MicrophoneButton__WEBPACK_IMPORTED_MODULE_5__.Z,{listening,startListening,stopListening:()=>{stopListening(),userMessage?.length&&sendMessage(userMessage)},stopAudio}),showMicrophone&&"CONTINUOUS"===microphoneMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_3__.Z,{primary:!0,className:classnames__WEBPACK_IMPORTED_MODULE_6___default()("memori-chat-inputs--mic",{"memori-chat-inputs--mic--listening":listening}),title:listening?t("write_and_speak.micButtonPopoverListening")||"Listening":t("write_and_speak.micButtonPopover")||"Start listening",onClick:()=>{listening?stopListening():(stopAudio(),startListening())},shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_icons_Microphone__WEBPACK_IMPORTED_MODULE_7__.default,{})})]})};ChatInputs.displayName="ChatInputs";const __WEBPACK_DEFAULT_EXPORT__=ChatInputs;try{ChatInputs.displayName="ChatInputs",ChatInputs.__docgenInfo={description:"",displayName:"ChatInputs",props:{dialogState:{defaultValue:null,description:"",name:"dialogState",required:!1,type:{name:"DialogState"}},instruct:{defaultValue:null,description:"",name:"instruct",required:!1,type:{name:"boolean"}},sendOnEnter:{defaultValue:{value:"click"},description:"",name:"sendOnEnter",required:!1,type:{name:"enum",value:[{value:'"keypress"'},{value:'"click"'}]}},setSendOnEnter:{defaultValue:null,description:"",name:"setSendOnEnter",required:!0,type:{name:'(sendOnEnter: "keypress" | "click") => void'}},attachmentsMenuOpen:{defaultValue:null,description:"",name:"attachmentsMenuOpen",required:!1,type:{name:"enum",value:[{value:'"link"'},{value:'"media"'}]}},setAttachmentsMenuOpen:{defaultValue:null,description:"",name:"setAttachmentsMenuOpen",required:!0,type:{name:'(attachmentsMenuOpen: "link" | "media") => void'}},userMessage:{defaultValue:{value:""},description:"",name:"userMessage",required:!1,type:{name:"string"}},onChangeUserMessage:{defaultValue:null,description:"",name:"onChangeUserMessage",required:!0,type:{name:"(userMessage: string) => void"}},sendMessage:{defaultValue:null,description:"",name:"sendMessage",required:!0,type:{name:"(msg: string) => void"}},onTextareaFocus:{defaultValue:null,description:"",name:"onTextareaFocus",required:!0,type:{name:"() => void"}},onTextareaBlur:{defaultValue:null,description:"",name:"onTextareaBlur",required:!0,type:{name:"() => void"}},onTextareaPressEnter:{defaultValue:null,description:"",name:"onTextareaPressEnter",required:!0,type:{name:"(e: KeyboardEvent<HTMLTextAreaElement>) => void"}},listening:{defaultValue:{value:"false"},description:"",name:"listening",required:!1,type:{name:"boolean"}},isPlayingAudio:{defaultValue:null,description:"",name:"isPlayingAudio",required:!1,type:{name:"boolean"}},stopAudio:{defaultValue:null,description:"",name:"stopAudio",required:!0,type:{name:"() => void"}},startListening:{defaultValue:null,description:"",name:"startListening",required:!0,type:{name:"() => void"}},stopListening:{defaultValue:null,description:"",name:"stopListening",required:!0,type:{name:"() => void"}},showMicrophone:{defaultValue:{value:"false"},description:"",name:"showMicrophone",required:!1,type:{name:"boolean"}},microphoneMode:{defaultValue:{value:"HOLD_TO_TALK"},description:"",name:"microphoneMode",required:!1,type:{name:"enum",value:[{value:'"HOLD_TO_TALK"'},{value:'"CONTINUOUS"'}]}},authToken:{defaultValue:null,description:"",name:"authToken",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatInputs/ChatInputs.tsx#ChatInputs"]={docgenInfo:ChatInputs.__docgenInfo,name:"ChatInputs",path:"src/components/ChatInputs/ChatInputs.tsx#ChatInputs"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChatTextArea/ChatTextArea.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Expand__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Expand.tsx"),_icons_FullscreenExit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/FullscreenExit.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChatTextArea=({disabled=!1,value,onChange,onPressEnter,onFocus,onBlur})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.$)(),[expanded,setExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{"data-testid":"chat-textarea",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat-textarea",{"memori-chat-textarea--expanded":expanded,"memori-chat-textarea--disabled":disabled}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"memori-chat-textarea--inner",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("textarea",{className:"memori-chat-textarea--input",disabled,value,onChange:e=>{onChange(e.target.value)},onKeyDownCapture:e=>{"Enter"===e.key&&!e.shiftKey&&onPressEnter&&onPressEnter(e)},onFocus,onBlur}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-chat-textarea--expand",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat-textarea--expand-button"),onClick:()=>setExpanded(!expanded),padded:!1,ghost:!0,title:expanded?t("collapse")||"Collapse":t("expand")||"Expand",icon:expanded?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_FullscreenExit__WEBPACK_IMPORTED_MODULE_4__.default,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_Expand__WEBPACK_IMPORTED_MODULE_3__.default,{})})})]})})};ChatTextArea.displayName="ChatTextArea";const __WEBPACK_DEFAULT_EXPORT__=ChatTextArea;try{ChatTextArea.displayName="ChatTextArea",ChatTextArea.__docgenInfo={description:"",displayName:"ChatTextArea",props:{disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onPressEnter:{defaultValue:null,description:"",name:"onPressEnter",required:!1,type:{name:"((e: KeyboardEvent<HTMLTextAreaElement>) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatTextArea/ChatTextArea.tsx#ChatTextArea"]={docgenInfo:ChatTextArea.__docgenInfo,name:"ChatTextArea",path:"src/components/ChatTextArea/ChatTextArea.tsx#ChatTextArea"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/FeedbackButtons/FeedbackButtons.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@headlessui/react/dist/components/menu/menu.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_ui_Tooltip__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Tooltip.tsx"),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Feedback__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Feedback.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const feedbackMsgs={"it-IT":"Non è quello che ti ho chiesto","fr-FR":"Ce n'est pas ce que je t'ai demandé","en-GB":"It's not what I asked"},feedbackMsgsHelpers={"it-IT":"La risposta non era corretta","fr-FR":"La réponse n'était pas correcte","en-GB":"The answer was not correct"},dislikeMsgs={"it-IT":"Non mi è piaciuta la risposta","fr-FR":"Je n'ai pas aimé la réponse","en-GB":"I didn't like the answer"},FeedbackButtons=({memori,className,onNegativeClick,toggle=!1,dropdown=!1})=>{const[clicked,setClicked]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),culture="it-IT"===memori.culture?"it-IT":"fr-FR"===memori.culture?"fr-FR":"en-GB",feedbackMsg=feedbackMsgs[culture],feedbackMsgHelper=feedbackMsgsHelpers[culture],dislikeMsg=dislikeMsgs[culture];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"memori-chat--feedback"+(className?` ${className}`:""),children:dropdown?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v,{as:"div",className:"memori-chat--feedback-menu",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Button,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{ghost:!0,shape:"circle",title:"Feedback",className:"memori-chat--feedback-menu-button",disabled:!!clicked,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_icons_Feedback__WEBPACK_IMPORTED_MODULE_3__.default,{className:clicked?"memori-chat--feedback-clicked":void 0})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Items,{className:"memori-chat--feedback-menu-items",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"memori-chat--feedback-menu-items-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Item,{children:({active})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"memori-chat--feedback-menu-item"+(active?" memori-chat--feedback-menu-item-active":""),onClick:()=>{setClicked("up"===clicked&&toggle?void 0:"up")},children:dislikeMsg})},"ok"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Item,{children:({active})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"memori-chat--feedback-menu-item"+(active?" memori-chat--feedback-menu-item-active":""),onClick:()=>{setClicked("down"===clicked&&toggle?void 0:"down"),onNegativeClick(feedbackMsg)},children:feedbackMsgHelper})},"no")]})})})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ui_Tooltip__WEBPACK_IMPORTED_MODULE_1__.Z,{align:"left",content:"Feedback",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{title:"Feedback",onClick:()=>{setClicked("down"===clicked&&toggle?void 0:"down"),onNegativeClick(feedbackMsg)},ghost:!0,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_icons_Feedback__WEBPACK_IMPORTED_MODULE_3__.default,{className:clicked?"memori-chat--feedback-clicked":void 0})})})})};FeedbackButtons.displayName="FeedbackButtons";const __WEBPACK_DEFAULT_EXPORT__=FeedbackButtons;try{FeedbackButtons.displayName="FeedbackButtons",FeedbackButtons.__docgenInfo={description:"",displayName:"FeedbackButtons",props:{memori:{defaultValue:null,description:"",name:"memori",required:!0,type:{name:"Memori"}},onNegativeClick:{defaultValue:null,description:"",name:"onNegativeClick",required:!0,type:{name:"(msg?: string | undefined) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},toggle:{defaultValue:{value:"false"},description:"",name:"toggle",required:!1,type:{name:"boolean"}},dropdown:{defaultValue:{value:"false"},description:"",name:"dropdown",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FeedbackButtons/FeedbackButtons.tsx#FeedbackButtons"]={docgenInfo:FeedbackButtons.__docgenInfo,name:"FeedbackButtons",path:"src/components/FeedbackButtons/FeedbackButtons.tsx#FeedbackButtons"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/MediaWidget/LinkItemWidget.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>RenderLinkItem,Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_icons_Link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/icons/Link.tsx"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),ellipsed__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ellipsed/lib/ellipsed.js"),_ui_Card__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/Card.tsx"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const RenderLinkItem=({isChild=!1,item,baseUrl,onLinkPreviewInfo,descriptionOneLine=!1})=>{const[link,setLink]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),normURL=item.url?.startsWith("http")||!item.url||0===item.url?.length?item.url:`https://${item.url}`;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let normURL=item.url?.startsWith("http")||!item.url||0===item.url?.length?item.url:`https://${item.url}`;normURL&&normURL!==link?.urlKey&&(async(url,baseUrl)=>{try{const data=await fetch(`${baseUrl||"https://app.twincreator.com"}/api/linkpreview/${encodeURIComponent(url)}`);return await data.json()}catch(err){return console.error("getSiteInfo",err),null}})(normURL,baseUrl).then((siteInfo=>{setLink(siteInfo?{...siteInfo,urlKey:normURL}:null),onLinkPreviewInfo&&siteInfo&&onLinkPreviewInfo(siteInfo)}))}),[item?.url,baseUrl,onLinkPreviewInfo]);const title=item.title&&item.title.length>0?item.title:link?.title,description=link?.description,video=link?.video,image=link?.image??link?.images?.[0];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTimeout((()=>{(0,ellipsed__WEBPACK_IMPORTED_MODULE_3__.ellipsis)(".memori-link-item--card .memori-card--description",3,{responsive:!0})}),300)}),[description,item.mediumID]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("a",{href:normURL,target:"_blank",rel:"noopener noreferrer",className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("memori-link-item--link",{"memori-link-item--link--child":isChild}),onClick:e=>{isChild||(e.preventDefault(),e.stopPropagation(),window.open(normURL,"_blank",`toolbar=yes,top=${.1*window.innerHeight},left=${.1*window.innerWidth},width=${.8*window.innerWidth},height=${.8*window.innerHeight}`))},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Card__WEBPACK_IMPORTED_MODULE_4__.Z,{hoverable:!0,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("memori-link-item--card",{"memori-link-item--card-description-oneline":descriptionOneLine,"memori-link-item--card-has-image":image,"memori-link-item--card-has-video":video}),cover:video?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("iframe",{width:"100%",height:"100%",src:video,title:"Video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):image?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("img",{className:"memori-link-item--card-cover-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",srcSet:image.includes("data:image")?void 0:image,alt:item.title}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-link-item--card-cover-icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_Link__WEBPACK_IMPORTED_MODULE_1__.default,{className:"memori-link-item--icon"})}),title,description})})};RenderLinkItem.displayName="RenderLinkItem";const LinkItemWidget=({items,baseUrl,descriptionOneLine=!1,onLinkPreviewInfo})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u,{appear:!0,show:!0,as:"div",className:"memori-link-items",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-link-items--grid",children:items.map(((item,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u.Child,{as:"div",className:"memori-link-item",enter:"ease-out duration-500 delay-"+100*index,enterFrom:"opacity-0 scale-95",enterTo:"opacity-1 scale-100",leave:"ease-in duration-300",leaveFrom:"opacity-1 scale-100",leaveTo:"opacity-0 scale-95",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(RenderLinkItem,{item,baseUrl,descriptionOneLine,onLinkPreviewInfo})},item.mediumID)))})});LinkItemWidget.displayName="LinkItemWidget";const __WEBPACK_DEFAULT_EXPORT__=LinkItemWidget;try{RenderLinkItem.displayName="RenderLinkItem",RenderLinkItem.__docgenInfo={description:"",displayName:"RenderLinkItem",props:{baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},isChild:{defaultValue:{value:"false"},description:"",name:"isChild",required:!1,type:{name:"boolean"}},descriptionOneLine:{defaultValue:{value:"false"},description:"",name:"descriptionOneLine",required:!1,type:{name:"boolean"}},onLinkPreviewInfo:{defaultValue:null,description:"",name:"onLinkPreviewInfo",required:!1,type:{name:"((linkPreviewInfo: ILinkPreviewInfo) => void)"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Medium"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MediaWidget/LinkItemWidget.tsx#RenderLinkItem"]={docgenInfo:RenderLinkItem.__docgenInfo,name:"RenderLinkItem",path:"src/components/MediaWidget/LinkItemWidget.tsx#RenderLinkItem"})}catch(__react_docgen_typescript_loader_error){}try{LinkItemWidget.displayName="LinkItemWidget",LinkItemWidget.__docgenInfo={description:"",displayName:"LinkItemWidget",props:{isChild:{defaultValue:{value:"false"},description:"",name:"isChild",required:!1,type:{name:"boolean"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Medium[]"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},descriptionOneLine:{defaultValue:{value:"false"},description:"",name:"descriptionOneLine",required:!1,type:{name:"boolean"}},onLinkPreviewInfo:{defaultValue:null,description:"",name:"onLinkPreviewInfo",required:!1,type:{name:"((linkPreviewInfo: ILinkPreviewInfo) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MediaWidget/LinkItemWidget.tsx#LinkItemWidget"]={docgenInfo:LinkItemWidget.__docgenInfo,name:"LinkItemWidget",path:"src/components/MediaWidget/LinkItemWidget.tsx#LinkItemWidget"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/MediaWidget/MediaWidget.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Button.tsx"),_LinkItemWidget__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/MediaWidget/LinkItemWidget.tsx"),_MediaItemWidget__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/MediaWidget/MediaItemWidget.tsx"),_headlessui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const MediaWidget=({hints=[],links=[],media=[],simulateUserPrompt=()=>{},sessionID,baseUrl,apiUrl,translateTo,customMediaRenderer})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.$)(),[showHints,setShowHints]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),[hintsPagination,setHintsPagination]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(6);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setShowHints(!0)}),[hints]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"memori-media-widget",children:[media?.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_MediaItemWidget__WEBPACK_IMPORTED_MODULE_3__.Z,{items:media,sessionID,translateTo,baseURL:baseUrl,apiURL:apiUrl,customMediaRenderer}),links?.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_LinkItemWidget__WEBPACK_IMPORTED_MODULE_2__.Z,{items:links,baseUrl}),hints?.length>0&&showHints&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.u,{appear:!0,show:!0,as:"ul",className:"memori-media--hints",children:hints.slice(0,hintsPagination).map(((item,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.u.Child,{as:"li",enter:"ease-out duration-500",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-1 translate-y-0",leave:"ease-in duration-300",leaveFrom:"opacity-1",leaveTo:"opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-media--hint"),primary:!0,onClick:()=>{simulateUserPrompt(item.originalText,item.text),setShowHints(!1)},onTouchEnd:()=>{simulateUserPrompt(item.originalText,item.text),setShowHints(!1)},children:item.text},item.text+index)},item.text+index)))}),hints.length>hintsPagination&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-hints--show-more",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{className:"memori-hints--show-more-button",id:"showMoreHints",onClick:()=>setHintsPagination(hintsPagination+6),children:t("expand")||"Expand"})})]})]})};MediaWidget.displayName="MediaWidget";const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(MediaWidget);try{MediaWidget.displayName="MediaWidget",MediaWidget.__docgenInfo={description:"",displayName:"MediaWidget",props:{hints:{defaultValue:{value:"[]"},description:"",name:"hints",required:!1,type:{name:"TranslatedHint[]"}},links:{defaultValue:{value:"[]"},description:"",name:"links",required:!1,type:{name:"Medium[]"}},media:{defaultValue:{value:"[]"},description:"",name:"media",required:!1,type:{name:"Medium[]"}},simulateUserPrompt:{defaultValue:{value:"() => {}"},description:"",name:"simulateUserPrompt",required:!1,type:{name:"((item: string, translatedItem?: string) => void)"}},sessionID:{defaultValue:null,description:"",name:"sessionID",required:!1,type:{name:"string"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},apiUrl:{defaultValue:null,description:"",name:"apiUrl",required:!1,type:{name:"string"}},translateTo:{defaultValue:null,description:"",name:"translateTo",required:!1,type:{name:"string"}},customMediaRenderer:{defaultValue:null,description:"",name:"customMediaRenderer",required:!1,type:{name:"((mimeType: string) => Element | null)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MediaWidget/MediaWidget.tsx#MediaWidget"]={docgenInfo:MediaWidget.__docgenInfo,name:"MediaWidget",path:"src/components/MediaWidget/MediaWidget.tsx#MediaWidget"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/MicrophoneButton/MicrophoneButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_icons_Microphone__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/icons/Microphone.tsx"),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_ui_Tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/Tooltip.tsx"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const MicrophoneButton=({listening,stopAudio,startListening,stopListening})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.$)(),[micBtnTooltip,setMicBtnTooltip]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),intervalRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),startHold=e=>{e.preventDefault(),setMicBtnTooltip(t("write_and_speak.holdToSpeak")||"Hold to record"),intervalRef.current||(intervalRef.current=setTimeout((()=>{stopAudio(),setMicBtnTooltip(t("write_and_speak.releaseToEndListening")||"Release to end listening"),startListening()}),300))},stopHold=()=>{intervalRef.current&&(clearTimeout(intervalRef.current),intervalRef.current=null),stopListening(),setMicBtnTooltip(void 0)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>stopHold()),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Tooltip__WEBPACK_IMPORTED_MODULE_3__.Z,{visible:!!micBtnTooltip,content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("span",{children:micBtnTooltip||t("write_and_speak.pressAndHoldToSpeak")||"Press and hold to speak"}),align:"topLeft",className:"memori-mic-btn-tooltip",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-chat-inputs--mic",{"memori-chat-inputs--mic--listening":listening}),title:listening?t("write_and_speak.micButtonPopoverListening")||"Listening":t("write_and_speak.micButtonPopover")||"Start listening",onMouseDown:startHold,onTouchStart:startHold,onMouseUp:stopHold,onMouseLeave:stopHold,onTouchEnd:stopHold,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_Microphone__WEBPACK_IMPORTED_MODULE_1__.default,{})})})};MicrophoneButton.displayName="MicrophoneButton";const __WEBPACK_DEFAULT_EXPORT__=MicrophoneButton;try{MicrophoneButton.displayName="MicrophoneButton",MicrophoneButton.__docgenInfo={description:"",displayName:"MicrophoneButton",props:{listening:{defaultValue:null,description:"",name:"listening",required:!1,type:{name:"boolean"}},stopAudio:{defaultValue:null,description:"",name:"stopAudio",required:!0,type:{name:"() => void"}},startListening:{defaultValue:null,description:"",name:"startListening",required:!0,type:{name:"() => void"}},stopListening:{defaultValue:null,description:"",name:"stopListening",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MicrophoneButton/MicrophoneButton.tsx#MicrophoneButton"]={docgenInfo:MicrophoneButton.__docgenInfo,name:"MicrophoneButton",path:"src/components/MicrophoneButton/MicrophoneButton.tsx#MicrophoneButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/SendOnEnterMenu/SendOnEnterMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _headlessui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@headlessui/react/dist/components/menu/menu.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/radio-group/radio-group.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SendOnEnterMenu=({sendOnEnter,setSendOnEnter})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.$)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v,{as:"div",className:"memori-send-on-enter-menu",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Button,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-button","memori-button--circle","memori-button--icon-only","memori-share-button--button","memori--conversation-button"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"memori-button--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{style:{display:"block",width:"1rem",height:"1rem"},children:"…"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Items,{className:"memori-menu--overlay",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.E,{value:sendOnEnter,onChange:setSendOnEnter,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.E.Option,{value:"keypress",className:"memori-menu--option",children:({checked})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Item,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{className:"memori-menu--button",ghost:!0,outlined:checked,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"memori-menu--icon",children:checked?"✓":""}),children:t("widget.sendOnKeypress")})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.E.Option,{value:"click",className:"memori-menu--option",children:({checked})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.v.Item,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{className:"memori-menu--button",ghost:!0,outlined:checked,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"memori-menu--icon",children:checked?"✓":""}),children:t("widget.sendOnClick")})})})]})})]})};SendOnEnterMenu.displayName="SendOnEnterMenu";const __WEBPACK_DEFAULT_EXPORT__=SendOnEnterMenu;try{SendOnEnterMenu.displayName="SendOnEnterMenu",SendOnEnterMenu.__docgenInfo={description:"",displayName:"SendOnEnterMenu",props:{sendOnEnter:{defaultValue:null,description:"",name:"sendOnEnter",required:!0,type:{name:"enum",value:[{value:'"keypress"'},{value:'"click"'}]}},setSendOnEnter:{defaultValue:null,description:"",name:"setSendOnEnter",required:!0,type:{name:'(value: "keypress" | "click") => void'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SendOnEnterMenu/SendOnEnterMenu.tsx#SendOnEnterMenu"]={docgenInfo:SendOnEnterMenu.__docgenInfo,name:"SendOnEnterMenu",path:"src/components/SendOnEnterMenu/SendOnEnterMenu.tsx#SendOnEnterMenu"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Typing/Typing.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const defaultSentences={en:[{delayAfter:3,text:"Generating an accurate and fancy response..."},{delayAfter:3,text:"Generating a response that will blow your mind..."},{delayAfter:3,text:"Generating a response that will make you smile..."},{delayAfter:3,text:"Thinking of a response..."},{delayAfter:3,text:"Thinking of a response that will make you smile..."},{delayAfter:3,text:"Gathering my thoughts..."},{delayAfter:3,text:"Gathering my thoughts to give you a response..."}],it:[{delayAfter:3,text:"Sto generando una risposta accurata e fantasiosa..."},{delayAfter:3,text:"Sto generando una risposta che ti farà impazzire..."},{delayAfter:3,text:"Sto generando una risposta che ti farà sorridere..."},{delayAfter:3,text:"Sto pensando ad una risposta..."},{delayAfter:3,text:"Sto pensando ad una risposta che ti farà sorridere..."},{delayAfter:3,text:"Sto raccogliendo i miei pensieri..."},{delayAfter:3,text:"Sto raccogliendo i miei pensieri per darti una risposta..."}]},getSeparatorString=(seconds=3)=>new Array(20*seconds).fill(" ").join(""),Typing=({useDefaultSentences=!1,lang="en",sentence,sentences})=>{const[index,setIndex]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[text,setText]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(sentences?.[lang]?.length?`${sentences[lang][0].text.endsWith("...")?sentences[lang][0].text:`${sentences[lang][0].text}...`}${getSeparatorString(sentences[lang][0].delayAfter)}`:sentence?`${sentence.endsWith("...")?sentence:`${sentence}...`}${getSeparatorString()}`:""),[shownText,setShownText]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const interval=setInterval((()=>{const letter=text[shownText.length];if(void 0!==letter&&text.length>0)setShownText((prev=>prev+letter));else if(sentences?.[lang]?.length&&index<sentences[lang].length-1){const nextIndex=index+1,sentence=sentences[lang][nextIndex];setText(`${sentence.text.endsWith("...")?sentence.text:`${sentence.text}...`}${getSeparatorString(sentence.delayAfter)}`),setShownText(""),setIndex(nextIndex)}else if(!sentences&&!sentence&&useDefaultSentences){const sentence=defaultSentences[lang][Math.floor(Math.random()*defaultSentences[lang].length)];setText(`${sentence.text}${getSeparatorString(sentence.delayAfter)}`),setShownText("")}}),50);return()=>clearInterval(interval)})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"memori-chat--bubble",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"memori-chat--bubble-typing",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{id:"wave",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"dot"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"dot"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"dot"})]}),text.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:shownText})]})})};Typing.displayName="Typing";const __WEBPACK_DEFAULT_EXPORT__=Typing;try{Typing.displayName="Typing",Typing.__docgenInfo={description:"",displayName:"Typing",props:{useDefaultSentences:{defaultValue:{value:"false"},description:"",name:"useDefaultSentences",required:!1,type:{name:"boolean"}},lang:{defaultValue:{value:"en"},description:"",name:"lang",required:!1,type:{name:"enum",value:[{value:'"en"'},{value:'"it"'}]}},sentence:{defaultValue:null,description:"",name:"sentence",required:!1,type:{name:"string"}},sentences:{defaultValue:null,description:"",name:"sentences",required:!1,type:{name:"{ [lang: string]: { text: string; delayAfter: number; }[]; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Typing/Typing.tsx#Typing"]={docgenInfo:Typing.__docgenInfo,name:"Typing",path:"src/components/Typing/Typing.tsx#Typing"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/AI.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const AI=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fillRule:"evenodd",d:"M0 4a4 4 0 014-4h16a4 4 0 014 4v16a4 4 0 01-4 4H4a4 4 0 01-4-4zm4-2.4A2.4 2.4 0 001.6 4v16A2.4 2.4 0 004 22.4h16a2.4 2.4 0 002.4-2.4V4A2.4 2.4 0 0020 1.6z",clipRule:"evenodd"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fillRule:"evenodd",d:"M9.715 8.442a.798.798 0 00-1.43 0l-3.2 6.4a.799.799 0 101.431.716l.579-1.158h3.811l.578 1.158a.8.8 0 001.431-.716zm.391 4.358L9 10.589 7.894 12.8z",clipRule:"evenodd"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fillRule:"evenodd",d:"M17 8c.552 0 1 .358 1 .8v6.4c0 .442-.448.8-1 .8s-1-.358-1-.8V8.8c0-.442.448-.8 1-.8z",clipRule:"evenodd"})]})});AI.displayName="AI";const __WEBPACK_DEFAULT_EXPORT__=AI;try{AI.displayName="AI",AI.__docgenInfo={description:"",displayName:"AI",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/AI.tsx#AI"]={docgenInfo:AI.__docgenInfo,name:"AI",path:"src/components/icons/AI.tsx#AI"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Expand.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Expand=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 0 0 0 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0 0 13.5-4.7L863.9 169a7.9 7.9 0 0 0-8.9-8.9zM416.6 562.3a8.03 8.03 0 0 0-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 0 0-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"})});Expand.displayName="Expand";const __WEBPACK_DEFAULT_EXPORT__=Expand;try{Expand.displayName="Expand",Expand.__docgenInfo={description:"",displayName:"Expand",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Expand.tsx#Expand"]={docgenInfo:Expand.__docgenInfo,name:"Expand",path:"src/components/icons/Expand.tsx#Expand"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Feedback.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Feedback=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className,"aria-label":title,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12zm-9-4h2v2h-2zm0-6h2v4h-2z"})]});Feedback.displayName="Feedback";const __WEBPACK_DEFAULT_EXPORT__=Feedback;try{Feedback.displayName="Feedback",Feedback.__docgenInfo={description:"",displayName:"Feedback",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Feedback.tsx#Feedback"]={docgenInfo:Feedback.__docgenInfo,name:"Feedback",path:"src/components/icons/Feedback.tsx#Feedback"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Microphone.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Microphone=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"})});Microphone.displayName="Microphone";const __WEBPACK_DEFAULT_EXPORT__=Microphone;try{Microphone.displayName="Microphone",Microphone.__docgenInfo={description:"",displayName:"Microphone",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Microphone.tsx#Microphone"]={docgenInfo:Microphone.__docgenInfo,name:"Microphone",path:"src/components/icons/Microphone.tsx#Microphone"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Send.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Send=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"})});Send.displayName="Send";const __WEBPACK_DEFAULT_EXPORT__=Send;try{Send.displayName="Send",Send.__docgenInfo={description:"",displayName:"Send",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Send.tsx#Send"]={docgenInfo:Send.__docgenInfo,name:"Send",path:"src/components/icons/Send.tsx#Send"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/User.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const User=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"})});User.displayName="User";const __WEBPACK_DEFAULT_EXPORT__=User;try{User.displayName="User",User.__docgenInfo={description:"",displayName:"User",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/User.tsx#User"]={docgenInfo:User.__docgenInfo,name:"User",path:"src/components/icons/User.tsx#User"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Tooltip=({content,className,align="right",disabled=!1,visible=!1,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-tooltip",`memori-tooltip--align-${align}`,className,{"memori-tooltip--disabled":disabled,"memori-tooltip--visible":visible}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"memori-tooltip--content",children:content}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"memori-tooltip--trigger",children})]});Tooltip.displayName="Tooltip";const __WEBPACK_DEFAULT_EXPORT__=Tooltip;try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"Element | ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"topLeft"'},{value:'"topRight"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"src/components/ui/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dt:()=>isAndroid,Tt:()=>isiOS,bw:()=>cleanUrl,h:()=>stripEmojis,vw:()=>stripDuplicates,xZ:()=>hasTouchscreen});__webpack_require__("./node_modules/react/index.js");const hasTouchscreen=()=>{let hasTouchScreen=!1;if("maxTouchPoints"in navigator)hasTouchScreen=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)hasTouchScreen=navigator.msMaxTouchPoints>0;else{const mQ=window&&"matchMedia"in window&&matchMedia("(pointer:coarse)");if(mQ&&"(pointer:coarse)"===mQ.media)hasTouchScreen=!!mQ.matches;else if("orientation"in window)hasTouchScreen=!0;else{var UA=navigator?.userAgent;hasTouchScreen=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA)}}return hasTouchScreen},isiOS=()=>{let platform=navigator?.userAgentData?.platform||navigator?.platform||"unknown",userAgent=navigator?.userAgent||"unknown";return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(platform)||userAgent.includes("Mac")&&"ontouchend"in document},isAndroid=()=>"android"===(navigator?.userAgentData?.platform||navigator?.platform||"unknown").toLowerCase()||navigator.userAgent.includes("Android");const stripDuplicates=text=>text.slice(0,text.length/2).trim().toLowerCase()===text.slice(text.length/2+1).trim().toLowerCase()?text.slice(0,text.length/2):text,stripEmojis=text=>text.replaceAll(/[^\p{L}\p{N}\p{P}\p{Z}^$\n]/gu,"").trim();function cleanUrl(href){try{href=encodeURI(href).replace(/%25/g,"%")}catch(e){return null}return href}}}]);