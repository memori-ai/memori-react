"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[4234],{"./src/components/KnownFacts/KnownFacts.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_memori_ai_memori_api_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@memori.ai/memori-api-client/esm/index.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_ui_Drawer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/Drawer.tsx"),_ui_Spin__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/Spin.tsx"),_ui_Modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/Modal.tsx"),react_hot_toast__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs"),_helpers_error__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/helpers/error.ts"),react_i18next__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_icons_Delete__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/icons/Delete.tsx"),_ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/ui/Checkbox.tsx"),_ui_Select__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/ui/Select.tsx"),_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/icons/ChevronLeft.tsx"),_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/icons/ChevronRight.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/jsx-runtime.js");const KnownFacts=({apiURL,sessionID,memori,visible=!0,initialKnownFacts=[],closeDrawer})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_14__.$)(),client=(0,_memori_ai_memori_api_client__WEBPACK_IMPORTED_MODULE_1__.Z)(apiURL),{getKnownFactsPaginated,deleteKnownFact}=client.knownFacts,[knownFacts,setKnownFacts]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialKnownFacts),[numberOfResults,setNumberOfResults]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(25),[pageIndex,setPageIndex]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[knownFactsCount,setKnownFactsCount]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialKnownFacts?.length??0),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),fetchKnownFacts=async(sessionId,from,howMany)=>{if(sessionID||sessionId){setLoading(!0);try{const{knownFacts,count,...response}=await getKnownFactsPaginated(sessionId??sessionID,from??pageIndex,howMany??numberOfResults);setKnownFacts(knownFacts??[]),setKnownFactsCount(count??0),0!==response.resultCode&&(console.error(response),react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.error(t((0,_helpers_error__WEBPACK_IMPORTED_MODULE_7__.r)(response.resultCode))))}catch(err){console.error("KNOWN_FACTS/FETCH",err),setKnownFacts(initialKnownFacts??[])}setLoading(!1)}};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{fetchKnownFacts()}),[]);const[bulkDeleteModalVisible,setBulkDeleteModalVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[deleteModalVisibleFor,setDeleteModalVisibleFor]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[selectedRowKeys,setSelectedRowKeys]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_ui_Drawer__WEBPACK_IMPORTED_MODULE_3__.Z,{open:visible,width:"80%",className:"memori-known-facts-drawer",onClose:()=>closeDrawer(),title:t("knownFacts.title"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{children:t("knownFacts.description",{memoriName:memori.name})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_ui_Spin__WEBPACK_IMPORTED_MODULE_4__.Z,{spinning:loading,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"memori-known-facts-actions",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,danger:!0,onClick:()=>{setBulkDeleteModalVisible(!0)},className:"memori-known-facts-delete-selected",disabled:0===selectedRowKeys?.length,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_Delete__WEBPACK_IMPORTED_MODULE_8__.default,{}),loading,children:[t("selected")," (",selectedRowKeys?.length,")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__.Z,{className:"memori-known-facts-modal",open:bulkDeleteModalVisible,closable:!0,title:selectedRowKeys.length>1?t("knownFacts.deleteSelectedConfirmTitle"):t("knownFacts.deleteConfirmTitle"),description:selectedRowKeys.length>1?t("knownFacts.deleteSelectedConfirmMessage",{number:selectedRowKeys.length}):t("knownFacts.deleteConfirmMessage"),onClose:()=>{setBulkDeleteModalVisible(!1)},footer:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{ghost:!0,onClick:()=>{setBulkDeleteModalVisible(!1)},children:t("cancel")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,danger:!0,onClick:async()=>{try{const mutations=selectedRowKeys.map((key=>deleteKnownFact(sessionID,key)));Promise.all(mutations).then((responses=>{if(responses.every((r=>0===r.resultCode)))react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.success(t("knownFacts.deleteSuccess")),setSelectedRowKeys([]),fetchKnownFacts(),setBulkDeleteModalVisible(!1);else{let errored=responses.find((r=>0!==r.resultCode));console.error(errored),void 0!==errored?.resultCode&&react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.error(t((0,_helpers_error__WEBPACK_IMPORTED_MODULE_7__.r)(errored?.resultCode)))}}))}catch(_e){let error=_e;react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.error(t("Error")+error.message)}},children:t("confirm")})]})})]}),knownFactsCount>25&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("nav",{className:"memori--table--pagination",children:[knownFactsCount>numberOfResults&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"memori--table--pagination--pages",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{shape:"circle",disabled:0===pageIndex,padded:!1,title:t("previous")||"Previous",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_11__.default,{}),onClick:()=>{setPageIndex(pageIndex-1),fetchKnownFacts(void 0,pageIndex-1,numberOfResults)}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("span",{className:"memori--table--pagination--pages--current",children:[pageIndex+1," /"," ",Math.ceil(knownFactsCount/numberOfResults)]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{shape:"circle",padded:!1,title:t("next")||"Next",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_12__.default,{}),disabled:(pageIndex+1)*numberOfResults>=knownFactsCount,onClick:()=>{setPageIndex(pageIndex+1),fetchKnownFacts(void 0,1,numberOfResults)}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Select__WEBPACK_IMPORTED_MODULE_10__.Z,{options:[{label:`25 / ${t("page")||"page"}`,value:25},{label:`50 / ${t("page")||"page"}`,value:50},{label:`100 / ${t("page")||"page"}`,value:100}],value:numberOfResults,displayValue:`${numberOfResults} / ${t("page")||"page"}`,onChange:value=>{setNumberOfResults(value),fetchKnownFacts(void 0,void 0,value)}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("table",{className:"memori--table",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("th",{className:"memori--table--column-centered",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__.Z,{checked:!!knownFacts?.length&&selectedRowKeys?.length===knownFacts.length,indeterminate:!!knownFacts?.length&&!!selectedRowKeys?.length&&selectedRowKeys?.length!==knownFacts?.length,onChange:e=>{e.target.checked?setSelectedRowKeys(knownFacts.map((kf=>kf.knownFactID))):setSelectedRowKeys([])}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("th",{children:t("knownFacts.text")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("th",{className:"mobile-hidden",children:t("createdAt")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("th",{className:"memori--table--column-right",children:t("actions")})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("tbody",{children:knownFacts.map((kf=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("th",{className:"memori--table--column-centered",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__.Z,{checked:selectedRowKeys?.includes(kf.knownFactID),onChange:e=>{e.target.checked?setSelectedRowKeys((srk=>[...new Set([...srk,kf.knownFactID])])):setSelectedRowKeys((srk=>srk.filter((key=>key!==kf.knownFactID))))}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("td",{children:kf.text}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("td",{className:"mobile-hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{className:"memori--table--date",children:kf.creationTimestamp?new Intl.DateTimeFormat("it",{dateStyle:"short",timeStyle:"short"}).format(new Date(kf.creationTimestamp)):"-"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("td",{className:"memori--table--column-right",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"memori--table--action-column",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{danger:!0,ghost:!0,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_Delete__WEBPACK_IMPORTED_MODULE_8__.default,{}),disabled:selectedRowKeys?.length>0,title:t("delete")||"Delete",onClick:()=>setDeleteModalVisibleFor(kf.knownFactID)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__.Z,{className:"memori-known-facts-modal",open:deleteModalVisibleFor===kf.knownFactID,closable:!0,title:t("knownFacts.deleteConfirmTitle"),description:t("knownFacts.deleteConfirmMessage"),onClose:()=>{setDeleteModalVisibleFor(void 0)},footer:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{ghost:!0,onClick:()=>{setDeleteModalVisibleFor(void 0)},children:t("cancel")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,danger:!0,onClick:async()=>{try{const response=await deleteKnownFact(sessionID,kf.knownFactID);0===response.resultCode?(react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.success(t("knownFacts.deleteSuccess")),setSelectedRowKeys([]),fetchKnownFacts(),setDeleteModalVisibleFor(void 0)):(console.error(response),react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.error(t((0,_helpers_error__WEBPACK_IMPORTED_MODULE_7__.r)(response.resultCode),{ns:"common"})))}catch(_e){let error=_e;react_hot_toast__WEBPACK_IMPORTED_MODULE_6__.ZP.error(t("Error")+error.message)}},children:t("confirm")})]})})]})})]},kf.knownFactID)))})]})]})]})};KnownFacts.displayName="KnownFacts";const __WEBPACK_DEFAULT_EXPORT__=KnownFacts;try{KnownFacts.displayName="KnownFacts",KnownFacts.__docgenInfo={description:"",displayName:"KnownFacts",props:{apiURL:{defaultValue:null,description:"",name:"apiURL",required:!0,type:{name:"string"}},sessionID:{defaultValue:null,description:"",name:"sessionID",required:!0,type:{name:"string"}},memori:{defaultValue:null,description:"",name:"memori",required:!0,type:{name:"Memori"}},initialKnownFacts:{defaultValue:{value:"[]"},description:"",name:"initialKnownFacts",required:!1,type:{name:"KnownFact[]"}},visible:{defaultValue:{value:"true"},description:"",name:"visible",required:!1,type:{name:"boolean"}},closeDrawer:{defaultValue:null,description:"",name:"closeDrawer",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/KnownFacts/KnownFacts.tsx#KnownFacts"]={docgenInfo:KnownFacts.__docgenInfo,name:"KnownFacts",path:"src/components/KnownFacts/KnownFacts.tsx#KnownFacts"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/ChevronLeft.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChevronLeft=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M15 18L9 12 15 6"})});ChevronLeft.displayName="ChevronLeft";const __WEBPACK_DEFAULT_EXPORT__=ChevronLeft;try{ChevronLeft.displayName="ChevronLeft",ChevronLeft.__docgenInfo={description:"",displayName:"ChevronLeft",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/ChevronLeft.tsx#ChevronLeft"]={docgenInfo:ChevronLeft.__docgenInfo,name:"ChevronLeft",path:"src/components/icons/ChevronLeft.tsx#ChevronLeft"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/ChevronRight.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChevronRight=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M9 18L15 12 9 6"})});ChevronRight.displayName="ChevronRight";const __WEBPACK_DEFAULT_EXPORT__=ChevronRight;try{ChevronRight.displayName="ChevronRight",ChevronRight.__docgenInfo={description:"",displayName:"ChevronRight",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/ChevronRight.tsx#ChevronRight"]={docgenInfo:ChevronRight.__docgenInfo,name:"ChevronRight",path:"src/components/icons/ChevronRight.tsx#ChevronRight"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Delete.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Delete=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"})});Delete.displayName="Delete";const __WEBPACK_DEFAULT_EXPORT__=Delete;try{Delete.displayName="Delete",Delete.__docgenInfo={description:"",displayName:"Delete",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Delete.tsx#Delete"]={docgenInfo:Delete.__docgenInfo,name:"Delete",path:"src/components/icons/Delete.tsx#Delete"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Checkbox=({label,className,disabled=!1,indeterminate=!1,checked,children,onChange,name,...props})=>{const inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{inputRef.current&&(inputRef.current.indeterminate=indeterminate)}),[inputRef,indeterminate]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("label",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-checkbox",className,{"memori-checkbox--disabled":disabled,"memori-checkbox--indeterminate":indeterminate}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:"memori-checkbox--input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{ref:inputRef,type:"checkbox",...props,name,disabled,checked:checked||indeterminate,className:"memori-checkbox--input",onChange}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"memori-checkbox--inner"})]}),!!label?.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"memori-checkbox--text",children:label})]})};Checkbox.displayName="Checkbox";const __WEBPACK_DEFAULT_EXPORT__=Checkbox;try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:{value:"false"},description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/ui/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Drawer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@headlessui/react/dist/components/dialog/dialog.js"),_Spin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Spin.tsx"),_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Close__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Close.tsx"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Drawer=({open=!1,onClose,className,title,description,children,footer,loading=!1,side="right",closable=!0,width="100%",widthMd="80%",widthLg="60%"})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u,{appear:!0,show:open,as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V,{open,onClose,className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-drawer",className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u.Child,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--backdrop"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--container-scrollable",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u.Child,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"ease-out duration-300",enterFrom:"max-w-0 opacity-0",enterTo:"max-w-100 opacity-100",leave:"ease-in duration-200",leaveFrom:"max-w-100 opacity-100",leaveTo:"max-w-0 opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V.Panel,{className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-drawer--panel",{"memori-drawer--panel-left":"left"===side,"memori-drawer--with-footer":!!footer}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("style",{dangerouslySetInnerHTML:{__html:`\n                    .memori-drawer--panel {\n                      --memori-drawer--width: ${width};\n                      --memori-drawer--width-lg: ${widthLg};\n                      --memori-drawer--width-md: ${widthMd};\n                    }\n                  `}}),closable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--close",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{shape:"circle",outlined:!0,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_Close__WEBPACK_IMPORTED_MODULE_3__.default,{}),onClick:()=>onClose(!1)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_Spin__WEBPACK_IMPORTED_MODULE_1__.Z,{spinning:loading,children:[title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V.Title,{className:"memori-drawer--title",children:title}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V.Description,{className:"memori-drawer--description",children:description}),children,footer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--footer",children:footer})]})]})})})})]})});Drawer.displayName="Drawer";const __WEBPACK_DEFAULT_EXPORT__=Drawer;try{Drawer.displayName="Drawer",Drawer.__docgenInfo={description:"",displayName:"Drawer",props:{open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(value: boolean) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"Element | ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"Element | ReactNode"}},footer:{defaultValue:null,description:"",name:"footer",required:!1,type:{name:"Element | ReactNode"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},closable:{defaultValue:{value:"true"},description:"",name:"closable",required:!1,type:{name:"boolean"}},side:{defaultValue:{value:"right"},description:"",name:"side",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},widthMd:{defaultValue:{value:"80%"},description:"",name:"widthMd",required:!1,type:{name:"string"}},widthLg:{defaultValue:{value:"60%"},description:"",name:"widthLg",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Drawer.tsx#Drawer"]={docgenInfo:Drawer.__docgenInfo,name:"Drawer",path:"src/components/ui/Drawer.tsx#Drawer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_headlessui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@headlessui/react/dist/components/listbox/listbox.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_icons_SelectIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/SelectIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Select=({className,value,displayValue,options,onChange,disabled=!1,label,placeholder})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-select",className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R,{value,onChange:value=>{onChange(value)},disabled,name:"day",children:[label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Label,{className:"memori-select--label",children:[label,":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Button,{"aria-label":label,className:"memori-select--button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-select--value",{"memori-select--value-placeholder":!value}),children:value?displayValue||value:placeholder}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"memori-select--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons_SelectIcon__WEBPACK_IMPORTED_MODULE_2__.default,{})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.u,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Options,{className:"memori-select--options",children:options.map((opt=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Option,{value:opt.value,className:"memori-select--option",children:opt.label},opt.value)))})})]})});Select.displayName="Select";const __WEBPACK_DEFAULT_EXPORT__=Select;try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: any) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"{ value: any; label: any; }[]"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Select.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"src/components/ui/Select.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/error.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>getErrori18nKey});const BACKEND_ERRORS=new Map(Object.entries({TENANT_NOT_FOUND:-1,TENANT_REGISTRATION_DISABLED:-2,TENANT_MISSING_NAME:-3,TENANT_MAX_USERS_REACHED:-4,TENANT_MAX_ADMINS_REACHED:-5,USER_NOT_CONFIRMED:-11,USER_NOT_FOUND:-12,USER_OR_PASSWORD_INVALID:-13,USER_MUST_CHANGE_PASSWORD:-14,USER_MUST_ENTER_VERIFICATION_CODE:-15,USER_MISSING_TENANT:-21,USER_MISSING_NAME:-22,USER_MISSING_PASSWORD:-23,USER_MISSING_EMAIL:-24,USER_MISSING_VERIFICATION_CODE:-25,USER_NAME_ALREADY_USED:-26,USER_PASSWORD_NOT_CONFORMING_TO_POLICY:-27,USER_EMAIL_ALREADY_USED:-28,USER_EMAIL_INVALID:-29,USER_VERIFICATION_CODE_INVALID:-30,USER_MISSING_NAME_OR_EMAIL:-31,USER_NAME_INVALID:-32,USER_HAS_ONE_OR_MORE_MEMORI:-33,USER_MISSING_NEW_PASSWORD:-34,USER_CANT_CREATE_MEMORI:-35,USER_MAX_MEMORI_REACHED:-36,USER_CANT_EDIT_INTEGRATIONS:-37,MEMORI_NOT_FOUND:-51,MEMORI_NOT_ACCESSIBLE:-52,MEMORI_ONLY_OWNER_CAN_CHANGE_GIVER_TAG_AND_PIN:-53,SESSION_NOT_FOUND:-101,SESSION_IS_NOT_ADMINISTRATIVE:-102,MEMORI_MISSING_CONFIGURATION:-201,MEMORI_CONFIGURATION_NOT_FOUND:-202,MEMORI_INVALID_PRIVACY_TYPE:-203,MEMORI_MISSING_PASSWORD:-204,MEMORI_INVALID_TOTAL_NUMBER_OF_RECOVERY_TOKENS:-205,MEMORI_INVALID_MINIMUM_NUMBER_OF_RECOVERY_TOKENS:-206,MEMORI_INVALID_VOICE_TYPE:-207,MEMORI_MISSING_NAME:-208,MEMORI_MISSING_PASSWORD_OR_RECOVERY_TOKENS:-209,MEMORI_INVALID_ID:-210,MEMORI_NAME_ALREADY_USED:-211,MEMORI_INVALID_PIN:-212,MEMORI_GIVER_TAG_PIN_CHANGE_REQUIRES_SEPARATE_OPERATION:-213,MEMORI_NO_PASSWORD_WHEN_PUBLIC:-214,MEMORI_TRANSFER_MISSING_DESTINATION_USER:-231,MEMORI_TRANSFER_INVALID_DESTINATION_USER_ID:-232,MEMORI_TRANSFER_DESTINATION_USER_DATA_INCONSISTENT:-233,MEMORI_TRANSFER_NOTHING_TO_DO:-234,MEMORI_CONFIGURATION_CANT_BE_CHANGED:-251,MEMORI_MISSING_NEW_PASSWORD:-252,MEMORI_SESSIONS_INVALID_DATE_FROM_FORMAT:-261,MEMORI_SESSIONS_INVALID_DATE_TO_FORMAT:-262,INTEGRATION_NOT_FOUND:-301,INTEGRATION_INVALID_TYPE:-401,INTEGRATION_ALREADY_EXISTS:-402,INTEGRATION_MEMORI_IS_NOT_PUBLIC:-403,INTEGRATION_MISSING_INVOCATION_TEXT:-404,INTEGRATION_MISSING_DEVICE_EMAILS:-405,INTEGRATION_MEMORI_IS_EMPTY:-406,INTEGRATION_MISSING_PRIVACY_POLICY:-407,INTEGRATION_MISSING_CATEGORY:-408,INTEGRATION_MISSING_DESCRIPTION:-409,INTEGRATION_INVALID_INVOCATION_TEXT:-410,INTEGRATION_GOOGLE_NO_MORE_AVAILABLE:-411,UPLOAD_REQUIRES_MULTIPART_ENCODING:-501,UPLOAD_MISSING_CONTENT_TYPE_BOUNDARY:-502,UPLOAD_MAX_LENGTH_EXCEEDED:-503,UPLOAD_FILE_IS_EMPTY:-504,UPLOAD_INVALID_FILE_TYPE_OR_SIGNATURE:-505,UPLOAD_MISSING_FILE_NAME:-506,UPLOAD_INVALID_MEMORY_ID:-507,UPLOAD_MISSING_FILE_CONTENT:-508,ASSET_NOT_FOUND:-601,ASSET_NOT_ACCESSIBLE:-602,ASSET_MISSING_SESSION_ID:-603,ASSET_INVALID_FILE_NAME:-604,INVITATION_NOT_FOUND:-701,INVITATION_NOT_ACCESSIBLE:-702,INVITATION_ALREADY_ACCEPTED:-703,INVITATION_ALREADY_REJECTED:-704,INVITATION_MISSING_DESTINATION_EMAIL:-705,INVITATION_DESTINATION_EMAIL_INVALID:-706,INVITATION_MISSING_TAG:-707,INVITATION_MISSING_PIN:-708,INVITATION_INVALID_PIN:-709,INVITATION_INVALID_TYPE:-710,INVITATION_MISSING_DESTINATION_NAME:-711,INVITATION_TAG_PIN_CANT_BE_CHANGED:-712,INVITATION_CANT_BE_CHANGED:-713,ACTIONLOG_INVALID_USER_ID:-801,ACTIONLOG_INVALID_DATE_FROM_FORMAT:-802,ACTIONLOG_INVALID_DATE_TO_FORMAT:-803,ACTIONLOG_INVALID_MEMORI_ID:-804,CONSUMPTIONLOG_INVALID_TYPE:-901,CONSUMPTIONLOG_INVALID_DATE_FROM_FORMAT:-902,CONSUMPTIONLOG_INVALID_DATE_TO_FORMAT:-903,CONSUMPTIONLOG_INVALID_USER_ID:-904,CONSUMPTIONLOG_INVALID_MEMORI_ID:-905}).map((([key,value])=>[value,key]))),getErrori18nKey=errorCode=>{if(!errorCode)return"error.generic";if(401===errorCode||403===errorCode)return"error.unauthorized";if(404===errorCode)return"error.notFound";if(422===errorCode)return"error.unprocessableEntity";if(500===errorCode)return"internal server error";let error=BACKEND_ERRORS.get(errorCode);return error?`errors.${error}`:"error.generic"}}}]);