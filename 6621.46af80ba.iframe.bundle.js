"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[6621],{"./src/components/ExportHistoryButton/ExportHistoryButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/popover/popover.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Message__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/Message.tsx"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ExportHistoryButton=({history,memori,className,buttonClassName,icon,disabled=!1,align="right",filename})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.$)(),text=`${t("write_and_speak.conversationStartedLabel")} ${new Intl.DateTimeFormat("it",{dateStyle:"short",timeStyle:"short"}).format(new Date)}\n\n`.concat(history.map((m=>`${m.fromUser?"YOU":memori.name}: ${m.text}`)).join("\n"));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.J,{title:t("write_and_speak.exportChatHistoryMessage"),className:classnames__WEBPACK_IMPORTED_MODULE_3___default()("memori-export-history-button",className,{"memori-export-history-button--align-left":"left"===align}),children:({close})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.J.Button,{disabled,className:classnames__WEBPACK_IMPORTED_MODULE_3___default()("memori-button","memori-button--circle","memori-button--icon-only",buttonClassName,{"memori-button--disabled":disabled,"memori-button--primary":!disabled}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"memori-button--icon",children:icon||(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_icons_Message__WEBPACK_IMPORTED_MODULE_2__.default,{})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.J.Panel,{className:"memori-export-history-button--panel",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:t("write_and_speak.exportChatHistory")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{primary:!0,onClick:()=>((text,filename="export-chat.txt")=>{const data=new Blob([text],{type:"text/plain"}),url=URL.createObjectURL(data),element=document.createElement("a");element.setAttribute("href",url),element.setAttribute("download",filename),element.style.display="none",document.body.appendChild(element),element.click(),document.body.removeChild(element)})(text,filename||`${memori.name.replace(/\W+/g,"-")}-export-chat.txt`),children:t("yes")||"Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{onClick:()=>close(),children:t("no")||"No"})]})]})})};ExportHistoryButton.displayName="ExportHistoryButton";const __WEBPACK_DEFAULT_EXPORT__=ExportHistoryButton;try{ExportHistoryButton.displayName="ExportHistoryButton",ExportHistoryButton.__docgenInfo={description:"",displayName:"ExportHistoryButton",props:{history:{defaultValue:null,description:"",name:"history",required:!0,type:{name:"Message[]"}},memori:{defaultValue:null,description:"",name:"memori",required:!0,type:{name:"Memori"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},buttonClassName:{defaultValue:null,description:"",name:"buttonClassName",required:!1,type:{name:"string"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},filename:{defaultValue:null,description:"",name:"filename",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ExportHistoryButton/ExportHistoryButton.tsx#ExportHistoryButton"]={docgenInfo:ExportHistoryButton.__docgenInfo,name:"ExportHistoryButton",path:"src/components/ExportHistoryButton/ExportHistoryButton.tsx#ExportHistoryButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Header/Header.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_MapMarker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/MapMarker.tsx"),_icons_SoundDeactivated__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/SoundDeactivated.tsx"),_icons_Sound__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/icons/Sound.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_ExportHistoryButton_ExportHistoryButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ExportHistoryButton/ExportHistoryButton.tsx"),_icons_Setting__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/icons/Setting.tsx"),_ShareButton_ShareButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ShareButton/ShareButton.tsx"),_icons_FullscreenExit__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/icons/FullscreenExit.tsx"),_icons_Fullscreen__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/icons/Fullscreen.tsx"),_icons_Refresh__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/icons/Refresh.tsx"),_icons_Clear__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/icons/Clear.tsx"),_icons_DeepThought__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/icons/DeepThought.tsx"),_icons_Group__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/icons/Group.tsx"),_icons_User__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/icons/User.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Header=({className,memori,tenant,history,position,setShowPositionDrawer,setShowSettingsDrawer,setShowKnownFactsDrawer,setShowExpertsDrawer,speakerMuted,setSpeakerMuted,hasUserActivatedSpeak=!1,showShare=!0,showSettings=!0,showSpeaker=!0,showReload=!1,showClear=!1,showLogin=!0,setShowLoginDrawer,clearHistory,loginToken,user,sessionID})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_17__.$)(),[fullScreenAvailable,setFullScreenAvailable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[fullScreen,setFullScreen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{document.fullscreenEnabled&&setFullScreenAvailable(!0)}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-header",className),children:[showReload&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",className:"memori-header--button memori-header--button--reload",title:t("reload")||"Reload",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_Refresh__WEBPACK_IMPORTED_MODULE_11__.default,{}),onClick:()=>{window.location.reload()}}),showClear&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",className:"memori-header--button memori-header--button--clear",title:t("clearHistory")||"Clear chat",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_Clear__WEBPACK_IMPORTED_MODULE_12__.default,{}),onClick:clearHistory}),memori.needsPosition&&position&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"memori-header--position",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{className:"memori-header--position-placeName",children:position.placeName}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_MapMarker__WEBPACK_IMPORTED_MODULE_3__.default,{}),shape:"circle",className:"memori-header--button memori-header--button--position",onClick:()=>setShowPositionDrawer(!0)})]}),fullScreenAvailable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",className:"memori-header--button memori-header--button--fullscreen",title:fullScreen?t("fullscreenExit")||"Exit fullscreen":t("fullscreenEnter")||"Enter fullscreen",icon:fullScreen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_FullscreenExit__WEBPACK_IMPORTED_MODULE_9__.default,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_Fullscreen__WEBPACK_IMPORTED_MODULE_10__.default,{}),onClick:()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),setFullScreen(!1)):(document.documentElement.requestFullscreen(),setFullScreen(!0))}}),memori.enableDeepThought&&!!loginToken&&user?.pAndCUAccepted&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!!sessionID&&!!hasUserActivatedSpeak,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_DeepThought__WEBPACK_IMPORTED_MODULE_13__.default,{}),className:"memori-header--button memori-header--button--knownfacts",disabled:!hasUserActivatedSpeak||!sessionID,onClick:()=>setShowKnownFactsDrawer(!0),title:t("knownFacts.title")||"Known facts"}),memori.enableBoardOfExperts&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_Group__WEBPACK_IMPORTED_MODULE_14__.default,{}),className:"memori-header--button memori-header--button--experts",disabled:!hasUserActivatedSpeak||!sessionID,onClick:()=>setShowExpertsDrawer(!0),title:t("widget.showExpertsInTheBoard")||"Experts in this board"}),showSpeaker&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",className:"memori-header--button memori-header--button--speaker",icon:speakerMuted?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_SoundDeactivated__WEBPACK_IMPORTED_MODULE_4__.default,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_Sound__WEBPACK_IMPORTED_MODULE_5__.default,{}),onClick:()=>setSpeakerMuted(!speakerMuted),title:t("widget.sound")||"Sound"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ExportHistoryButton_ExportHistoryButton__WEBPACK_IMPORTED_MODULE_6__.Z,{history,memori,className:"memori-header--button memori-header--button--export",disabled:!hasUserActivatedSpeak||0===history.length}),showSettings&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",className:"memori-header--button memori-header--button-settings",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_Setting__WEBPACK_IMPORTED_MODULE_7__.default,{}),onClick:()=>setShowSettingsDrawer(!0),title:t("widget.settings")||"Settings"}),showShare&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ShareButton_ShareButton__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"memori-header--button memori-header--button-share",title:memori.name,tenant,showQrCode:!0,align:"left"}),showLogin&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{primary:!0,shape:"circle",className:"memori-header--button memori-header--button-login",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_icons_User__WEBPACK_IMPORTED_MODULE_15__.default,{}),onClick:()=>setShowLoginDrawer(!0),title:loginToken?t("login.user")||"User":t("login.login")||"Login"})]})};Header.displayName="Header";const __WEBPACK_DEFAULT_EXPORT__=Header;try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},memori:{defaultValue:null,description:"",name:"memori",required:!0,type:{name:"Memori"}},tenant:{defaultValue:null,description:"",name:"tenant",required:!1,type:{name:"Tenant"}},history:{defaultValue:null,description:"",name:"history",required:!0,type:{name:"Message[]"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"Venue"}},setShowPositionDrawer:{defaultValue:null,description:"",name:"setShowPositionDrawer",required:!0,type:{name:"(show: boolean) => void"}},setShowSettingsDrawer:{defaultValue:null,description:"",name:"setShowSettingsDrawer",required:!0,type:{name:"(show: boolean) => void"}},setShowKnownFactsDrawer:{defaultValue:null,description:"",name:"setShowKnownFactsDrawer",required:!0,type:{name:"(show: boolean) => void"}},setShowExpertsDrawer:{defaultValue:null,description:"",name:"setShowExpertsDrawer",required:!0,type:{name:"(show: boolean) => void"}},speakerMuted:{defaultValue:null,description:"",name:"speakerMuted",required:!0,type:{name:"boolean"}},setSpeakerMuted:{defaultValue:null,description:"",name:"setSpeakerMuted",required:!0,type:{name:"(mute: boolean) => void"}},hasUserActivatedSpeak:{defaultValue:{value:"false"},description:"",name:"hasUserActivatedSpeak",required:!1,type:{name:"boolean"}},showShare:{defaultValue:{value:"true"},description:"",name:"showShare",required:!1,type:{name:"boolean"}},showSettings:{defaultValue:{value:"true"},description:"",name:"showSettings",required:!1,type:{name:"boolean"}},showSpeaker:{defaultValue:{value:"true"},description:"",name:"showSpeaker",required:!1,type:{name:"boolean"}},showReload:{defaultValue:{value:"false"},description:"",name:"showReload",required:!1,type:{name:"boolean"}},showClear:{defaultValue:{value:"false"},description:"",name:"showClear",required:!1,type:{name:"boolean"}},showLogin:{defaultValue:{value:"true"},description:"",name:"showLogin",required:!1,type:{name:"boolean"}},setShowLoginDrawer:{defaultValue:null,description:"",name:"setShowLoginDrawer",required:!0,type:{name:"(show: boolean) => void"}},clearHistory:{defaultValue:null,description:"",name:"clearHistory",required:!0,type:{name:"() => void"}},loginToken:{defaultValue:null,description:"",name:"loginToken",required:!1,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"User"}},sessionID:{defaultValue:null,description:"",name:"sessionID",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Header/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/Header/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LoginDrawer/LoginDrawer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Button.tsx"),_ui_Drawer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Drawer.tsx"),react_hot_toast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),_memori_ai_memori_api_client__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@memori.ai/memori-api-client/esm/index.js"),_helpers_error__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/error.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");const mailRegEx=/^\w+([.-]?[+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/,LoginDrawer=({open=!1,onClose,onLogin,onLogout,user,loginToken,tenant,apiUrl,__TEST__needMissingData=!1})=>{const{t,i18n}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.$)(),lang="it"===i18n.language?"it":"en",client=(0,_memori_ai_memori_api_client__WEBPACK_IMPORTED_MODULE_5__.Z)(apiUrl),{userLogin,updateUser}=client.backend,[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[needsMissingData,setNeedsMissingData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(__TEST__needMissingData?{token:"token",birthDate:!0,tnCAndPPAccepted:!0}:{}),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[redirectTo,setRedirectTo]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setRedirectTo(window.location.href)}),[]);const isUserLoggedIn=user?.userID&&loginToken;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ui_Drawer__WEBPACK_IMPORTED_MODULE_2__.Z,{open,onClose,className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori--login-drawer",{"memori--login-drawer--logged":isUserLoggedIn}),title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h2",{className:"memori--login-drawer--title",children:isUserLoggedIn?t("login.loggedDrawerTitle",{name:user.userName}):t("login.loginDrawerTitle")}),children:isUserLoggedIn?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"memori--login-drawer--logged",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{primary:!0,onClick:()=>{onLogout()},children:t("login.logout")})}):needsMissingData?.token?.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h3",{children:t("login.missingData")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:t("login.missingDataHelper")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("form",{className:"memori--login-drawer--form",onSubmit:async e=>{e.preventDefault();const form=e.currentTarget,birthDate=form.birthDate?.value,tnCAndPPAccepted=form.tnCAndPPAccepted?.checked,pAndCUAccepted=form.pAndCUAccepted?.checked;if(!user?.userID||!needsMissingData?.token)return;if(!birthDate||!tnCAndPPAccepted)return void setError(t("missingData"));let newUser={userID:user.userID,birthDate:user?.birthDate||!needsMissingData.birthDate?void 0:birthDate,tnCAndPPAccepted:tnCAndPPAccepted||user?.tnCAndPPAccepted,tnCAndPPAcceptanceDate:tnCAndPPAccepted?(new Date).toISOString():void 0,pAndCUAccepted:pAndCUAccepted||user?.pAndCUAccepted,pAndCUAcceptanceDate:pAndCUAccepted?(new Date).toISOString():void 0};const{user:patchedUser,...resp}=await updateUser(needsMissingData.token,user.userID,newUser);0!==resp.resultCode?(console.error(resp),react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.ZP.error(t((0,_helpers_error__WEBPACK_IMPORTED_MODULE_6__.r)(resp.resultCode),{ns:"common"})),setError(resp.resultMessage)):(react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.ZP.success(t("success")),onLogin(patchedUser||newUser,needsMissingData.token))},children:[needsMissingData.birthDate&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("label",{htmlFor:"#birthDate",children:[t("login.birthDate"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input",{id:"birthDate",name:"birthDate",type:"date",required:!0,autoComplete:"bday"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("small",{children:t("login.birthDateHelper")})})]}),needsMissingData?.tnCAndPPAccepted&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("label",{className:"memori-checkbox",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("span",{className:"memori-checkbox--input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input",{type:"checkbox",name:"tnCAndPPAccepted",className:"memori-checkbox--input"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"memori-checkbox--inner"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("span",{className:"memori-checkbox--text",children:[t("login.privacyLabel")," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("a",{href:`https://memori.ai/${lang}/privacy_and_cookie`,target:"_blank",rel:"noopener noreferrer",children:t("login.privacyAndCookiePolicy")})," ",t("login.and")," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("a",{href:`https://memori.ai/${lang}/tos`,target:"_blank",rel:"noopener noreferrer",children:t("login.termsOfService")})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("label",{className:"memori-checkbox",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("span",{className:"memori-checkbox--input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input",{type:"checkbox",name:"pAndCUAccepted",defaultChecked:user?.pAndCUAccepted,className:"memori-checkbox--input"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"memori-checkbox--inner"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("span",{className:"memori-checkbox--text",children:[t("login.pAndCUAccepted")," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("small",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("em",{children:["(",t("login.optional"),")"]})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("small",{children:t("login.goToAccountToChangeYourPreferences")})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("small",{children:t("login.deepThoughtExplaination")})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{htmlType:"submit",primary:!0,loading,children:t("login.save")})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("form",{className:"memori--login-drawer--form",onSubmit:e=>{e.preventDefault();const form=e.currentTarget,userNameOrEmail=form.userNameOrEmail.value,password=form.password.value,user=mailRegEx.test(userNameOrEmail)?{tenant:tenant?.id,eMail:userNameOrEmail,password}:{tenant:tenant?.id,userName:userNameOrEmail,password};setLoading(!0),setError(null),userLogin(user).then((data=>{0!==data.resultCode?(console.error(data),react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.ZP.error(t((0,_helpers_error__WEBPACK_IMPORTED_MODULE_6__.r)(data.resultCode),{ns:"common"})),setError(data.resultMessage)):data.user&&data.token&&(onLogin(data.user,data.token),data.user?.tnCAndPPAccepted&&data.user?.birthDate||setNeedsMissingData({token:data.token,birthDate:!data.user?.birthDate,tnCAndPPAccepted:!data.user?.tnCAndPPAccepted}))})).catch((err=>{console.error("[LOGIN]",err),react_hot_toast__WEBPACK_IMPORTED_MODULE_3__.ZP.error(err),err.message&&setError(err.message)})).finally((()=>{setLoading(!1)}))},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("label",{htmlFor:"#userNameOrEmail",children:[t("login.userNameOrEmail"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input",{id:"userNameOrEmail",name:"userNameOrEmail",required:!0,autoComplete:"email",placeholder:"Username/email"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("label",{htmlFor:"#password",children:["Password",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"password",placeholder:"Password"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_1__.Z,{htmlType:"submit",primary:!0,loading,children:t("login.login")}),!tenant?.disableRegistration&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("p",{className:"memori--login-drawer--signup",children:[t("login.newUserSignUp")," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("a",{href:`https://${tenant.name||"www.aisuru.com"}/${lang}/auth?signup=1&redirectTo=${redirectTo}`,children:t("login.signUp")})]})]}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{role:"alert",className:"memori--login-drawer--error",children:error})]})})};LoginDrawer.displayName="LoginDrawer";const __WEBPACK_DEFAULT_EXPORT__=LoginDrawer;try{LoginDrawer.displayName="LoginDrawer",LoginDrawer.__docgenInfo={description:"",displayName:"LoginDrawer",props:{open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},user:{defaultValue:null,description:"",name:"user",required:!1,type:{name:"User"}},loginToken:{defaultValue:null,description:"",name:"loginToken",required:!1,type:{name:"string"}},onLogin:{defaultValue:null,description:"",name:"onLogin",required:!0,type:{name:"(user: User, token: string) => void"}},onLogout:{defaultValue:null,description:"",name:"onLogout",required:!0,type:{name:"() => void"}},tenant:{defaultValue:null,description:"",name:"tenant",required:!0,type:{name:"Tenant"}},apiUrl:{defaultValue:null,description:"",name:"apiUrl",required:!0,type:{name:"string"}},__TEST__needMissingData:{defaultValue:{value:"false"},description:"",name:"__TEST__needMissingData",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LoginDrawer/LoginDrawer.tsx#LoginDrawer"]={docgenInfo:LoginDrawer.__docgenInfo,name:"LoginDrawer",path:"src/components/LoginDrawer/LoginDrawer.tsx#LoginDrawer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/SettingsDrawer/SettingsDrawer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _ui_Drawer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/ui/Drawer.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Checkbox.tsx"),_ui_Select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Select.tsx"),_helpers_configuration__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/helpers/configuration.ts"),_headlessui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@headlessui/react/dist/components/radio-group/radio-group.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/Button.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const silenceSeconds=[2,3,5,10,15,20,30,60],SettingsDrawer=({open,layout="DEFAULT",onClose,microphoneMode="HOLD_TO_TALK",continuousSpeechTimeout,setMicrophoneMode,setContinuousSpeechTimeout,controlsPosition,setControlsPosition,hideEmissions,setHideEmissions,additionalSettings})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.$)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_ui_Drawer__WEBPACK_IMPORTED_MODULE_0__.Z,{className:"memori-settings-drawer",open,onClose,title:t("widget.settings")||"Settings",description:t("write_and_speak.settingsHeaderLabel"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"memori-settings-drawer--field controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("label",{htmlFor:"#microphoneMode",children:[t("write_and_speak.microphoneMode")||"Microphone mode",":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.E,{id:"microphoneMode",name:"microphoneMode",value:microphoneMode,defaultValue:microphoneMode,className:"memori-settings-drawer--microphoneMode-radio",onChange:value=>{let micMode="CONTINUOUS"===value?"CONTINUOUS":"HOLD_TO_TALK";setMicrophoneMode(micMode),(0,_helpers_configuration__WEBPACK_IMPORTED_MODULE_3__.A2)("microphoneMode",micMode)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.E.Option,{value:"HOLD_TO_TALK",className:"memori-settings-drawer--microphoneMode-radio-button",children:({checked})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{primary:checked,children:t("write_and_speak.holdToSpeak")||"Hold to speak"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.E.Option,{value:"CONTINUOUS",className:"memori-settings-drawer--microphoneMode-radio-button",children:({checked})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{primary:checked,children:t("write_and_speak.continuousSpeechLabel")||"Continuous speech"})})]})]}),"CONTINUOUS"===microphoneMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-settings-drawer--field",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Select__WEBPACK_IMPORTED_MODULE_2__.Z,{label:t("write_and_speak.secondsLabel")||"Seconds",placeholder:t("write_and_speak.secondsLabel")||"Seconds",options:silenceSeconds.map((s=>({value:s,label:s}))),value:continuousSpeechTimeout,onChange:value=>{setContinuousSpeechTimeout(value),(0,_helpers_configuration__WEBPACK_IMPORTED_MODULE_3__.A2)("continuousSpeechTimeout",value)}})}),"TOTEM"===layout&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"memori-settings-drawer--field controls",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("label",{htmlFor:"#controlsPosition",children:[t("write_and_speak.controlsPosition")||"Controls",":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.E,{id:"controlsPosition",name:"controlsPosition",value:controlsPosition,defaultValue:controlsPosition,className:"memori-settings-drawer--controlsposition-radio",onChange:value=>{setControlsPosition(value),(0,_helpers_configuration__WEBPACK_IMPORTED_MODULE_3__.A2)("controlsPosition",value)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.E.Option,{value:"center",className:"memori-settings-drawer--controlsposition-radio-button",children:({checked})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{primary:checked,children:t("center")||"Center"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.E.Option,{value:"bottom",className:"memori-settings-drawer--controlsposition-radio-button",children:({checked})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_4__.Z,{primary:checked,children:t("bottom")||"Bottom"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-settings-drawer--field",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1__.Z,{label:t("write_and_speak.hideEmissionsLabel")||"Hide emissions",name:"hideControls",checked:hideEmissions,onChange:e=>{setHideEmissions(e.target.checked),(0,_helpers_configuration__WEBPACK_IMPORTED_MODULE_3__.A2)("hideEmissions",e.target.checked)}})})]}),additionalSettings&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-settings-drawer--field controls",children:additionalSettings})]})};SettingsDrawer.displayName="SettingsDrawer";const __WEBPACK_DEFAULT_EXPORT__=SettingsDrawer;try{SettingsDrawer.displayName="SettingsDrawer",SettingsDrawer.__docgenInfo={description:"",displayName:"SettingsDrawer",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},layout:{defaultValue:{value:"DEFAULT"},description:"",name:"layout",required:!1,type:{name:"enum",value:[{value:'"DEFAULT"'},{value:'"FULLPAGE"'},{value:'"TOTEM"'},{value:'"CHAT"'},{value:'"WEBSITE_ASSISTANT"'}]}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},microphoneMode:{defaultValue:{value:"HOLD_TO_TALK"},description:"",name:"microphoneMode",required:!1,type:{name:"enum",value:[{value:'"HOLD_TO_TALK"'},{value:'"CONTINUOUS"'}]}},continuousSpeechTimeout:{defaultValue:null,description:"",name:"continuousSpeechTimeout",required:!1,type:{name:"number"}},setMicrophoneMode:{defaultValue:null,description:"",name:"setMicrophoneMode",required:!0,type:{name:'(value: "HOLD_TO_TALK" | "CONTINUOUS") => void'}},setContinuousSpeechTimeout:{defaultValue:null,description:"",name:"setContinuousSpeechTimeout",required:!0,type:{name:"(value: number) => void"}},controlsPosition:{defaultValue:null,description:"",name:"controlsPosition",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"bottom"'}]}},setControlsPosition:{defaultValue:null,description:"",name:"setControlsPosition",required:!0,type:{name:'(value: "center" | "bottom") => void'}},hideEmissions:{defaultValue:null,description:"",name:"hideEmissions",required:!1,type:{name:"boolean"}},setHideEmissions:{defaultValue:null,description:"",name:"setHideEmissions",required:!0,type:{name:"(value: boolean) => void"}},additionalSettings:{defaultValue:null,description:"",name:"additionalSettings",required:!1,type:{name:"Element | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SettingsDrawer/SettingsDrawer.tsx#SettingsDrawer"]={docgenInfo:SettingsDrawer.__docgenInfo,name:"SettingsDrawer",path:"src/components/SettingsDrawer/SettingsDrawer.tsx#SettingsDrawer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ShareButton/ShareButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_icons_Facebook__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/icons/Facebook.tsx"),_icons_Twitter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/Twitter.tsx"),_icons_Linkedin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Linkedin.tsx"),_icons_WhatsApp__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/WhatsApp.tsx"),_icons_Mail__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/icons/Mail.tsx"),_icons_Link__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/icons/Link.tsx"),_icons_Share__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/icons/Share.tsx"),_icons_Download__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/icons/Download.tsx"),_icons_Telegram__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/icons/Telegram.tsx"),qrcode_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/qrcode.react/lib/esm/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@headlessui/react/dist/components/menu/menu.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/ui/Button.tsx"),classnames__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ShareButton=({tenant,url,title="",className,baseUrl,primary=!0,showQrCode=!0,align="right"})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_14__.$)(),[targetUrl,setTargetUrl]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(url),qrImageURL=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>tenant?.theme?`${baseUrl??"https://aisuru.com"}/images/${tenant.theme}/square_logo.png`:`${baseUrl??"https://aisuru.com"}/images/memori_logo.png`),[tenant,baseUrl]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{url||setTargetUrl(window.location.href)}),[url]);const socialShare=[{id:"facebook",title:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${targetUrl}`,icon:_icons_Facebook__WEBPACK_IMPORTED_MODULE_1__.default},{id:"twitter",title:"Twitter",url:`https://twitter.com/intent/tweet?url=${targetUrl}`,icon:_icons_Twitter__WEBPACK_IMPORTED_MODULE_2__.default},{id:"linkedin",title:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&title=${title}&url=${targetUrl}`,icon:_icons_Linkedin__WEBPACK_IMPORTED_MODULE_3__.default},{id:"whatsapp",title:"Whatsapp",url:`https://api.whatsapp.com/send?phone=&text=${targetUrl}`,icon:_icons_WhatsApp__WEBPACK_IMPORTED_MODULE_4__.default},{id:"telegram",title:"Telegram",url:`https://t.me/share/url?text=${title}&url=${targetUrl}`,icon:_icons_Telegram__WEBPACK_IMPORTED_MODULE_9__.default},{id:"email",title:"Email",url:`mailto:?subject=${title?.length>0?title:url}&body=${targetUrl}`,icon:_icons_Mail__WEBPACK_IMPORTED_MODULE_5__.default}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_15__.v,{as:"div",className:classnames__WEBPACK_IMPORTED_MODULE_12___default()("memori-share-button",{"memori-share-button--align-left":"left"===align}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_15__.v.Button,{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()("memori-button","memori-button--circle","memori-button--icon-only","memori-share-button--button",className,{"memori-button--primary":primary}),title:t("widget.share")||void 0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"memori-button--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_Share__WEBPACK_IMPORTED_MODULE_7__.default,{})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_15__.v.Items,{className:"memori-share-button--overlay",as:"ul",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_15__.v.Item,{as:"li",className:"memori-share-button--li",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_11__.Z,{className:"memori-share-button--link",ghost:!0,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_Link__WEBPACK_IMPORTED_MODULE_6__.default,{}),onClick:()=>{targetUrl&&navigator.clipboard.writeText(targetUrl)},children:t("copyToClipboard")||void 0})},"copy"),socialShare.map((item=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_15__.v.Item,{as:"li",className:"memori-share-button--li",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("a",{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()("memori-button","memori-button--with-icon","memori-button--ghost","memori-button--padded","memori-share-button--link"),href:item.url??"",target:"_blank",rel:"noopener noreferrer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"memori-button--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(item.icon,{})}),item.title]})},item.id))),showQrCode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_15__.v.Item,{as:"li",className:"memori-share-button--li-qr-code",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(qrcode_react__WEBPACK_IMPORTED_MODULE_10__.Qd,{id:"qr-canvas",value:targetUrl??"",size:128,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!1,imageSettings:{src:qrImageURL,x:void 0,y:void 0,height:32,width:32,excavate:!0}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_11__.Z,{onClick:()=>{const canvas=document.getElementById("qr-canvas");if(!canvas)return;const link=document.createElement("a");link.href=canvas.toDataURL(),link.download=`memori-${title}-share.png`,document.body.appendChild(link),link.click(),document.body.removeChild(link)},icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_icons_Download__WEBPACK_IMPORTED_MODULE_8__.default,{}),title:"Download QR",children:"Download"})})]},"qrcode")]})]})};ShareButton.displayName="ShareButton";const __WEBPACK_DEFAULT_EXPORT__=ShareButton;try{ShareButton.displayName="ShareButton",ShareButton.__docgenInfo={description:"",displayName:"ShareButton",props:{tenant:{defaultValue:null,description:"",name:"tenant",required:!1,type:{name:"Tenant"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},title:{defaultValue:{value:""},description:"",name:"title",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},primary:{defaultValue:{value:"true"},description:"",name:"primary",required:!1,type:{name:"boolean"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},showQrCode:{defaultValue:{value:"true"},description:"",name:"showQrCode",required:!1,type:{name:"boolean"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ShareButton/ShareButton.tsx#ShareButton"]={docgenInfo:ShareButton.__docgenInfo,name:"ShareButton",path:"src/components/ShareButton/ShareButton.tsx#ShareButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Checkbox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Checkbox=({label,className,disabled=!1,indeterminate=!1,checked,children,onChange,name,...props})=>{const inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{inputRef.current&&(inputRef.current.indeterminate=indeterminate)}),[inputRef,indeterminate]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("label",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-checkbox",className,{"memori-checkbox--disabled":disabled,"memori-checkbox--indeterminate":indeterminate}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:"memori-checkbox--input-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{ref:inputRef,type:"checkbox",...props,name,disabled,checked:checked||indeterminate,className:"memori-checkbox--input",onChange}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"memori-checkbox--inner"})]}),!!label?.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"memori-checkbox--text",children:label})]})};Checkbox.displayName="Checkbox";const __WEBPACK_DEFAULT_EXPORT__=Checkbox;try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:{value:"false"},description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Checkbox.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/ui/Checkbox.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Drawer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@headlessui/react/dist/components/dialog/dialog.js"),_Spin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ui/Spin.tsx"),_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Close__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Close.tsx"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Drawer=({open=!1,onClose,className,title,description,children,footer,loading=!1,side="right",closable=!0,width="100%",widthMd="80%",widthLg="60%"})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u,{appear:!0,show:open,as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V,{open,onClose,className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-drawer",className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u.Child,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--backdrop"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--container-scrollable",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_6__.u.Child,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"ease-out duration-300",enterFrom:"max-w-0 opacity-0",enterTo:"max-w-100 opacity-100",leave:"ease-in duration-200",leaveFrom:"max-w-100 opacity-100",leaveTo:"max-w-0 opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V.Panel,{className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-drawer--panel",{"memori-drawer--panel-left":"left"===side,"memori-drawer--with-footer":!!footer}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("style",{dangerouslySetInnerHTML:{__html:`\n                    .memori-drawer--panel {\n                      --memori-drawer--width: ${width};\n                      --memori-drawer--width-lg: ${widthLg};\n                      --memori-drawer--width-md: ${widthMd};\n                    }\n                  `}}),closable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--close",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.Z,{shape:"circle",outlined:!0,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_icons_Close__WEBPACK_IMPORTED_MODULE_3__.default,{}),onClick:()=>onClose(!1)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_Spin__WEBPACK_IMPORTED_MODULE_1__.Z,{spinning:loading,children:[title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V.Title,{className:"memori-drawer--title",children:title}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_7__.V.Description,{className:"memori-drawer--description",children:description}),children,footer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"memori-drawer--footer",children:footer})]})]})})})})]})});Drawer.displayName="Drawer";const __WEBPACK_DEFAULT_EXPORT__=Drawer;try{Drawer.displayName="Drawer",Drawer.__docgenInfo={description:"",displayName:"Drawer",props:{open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(value: boolean) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"Element | ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"Element | ReactNode"}},footer:{defaultValue:null,description:"",name:"footer",required:!1,type:{name:"Element | ReactNode"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},closable:{defaultValue:{value:"true"},description:"",name:"closable",required:!1,type:{name:"boolean"}},side:{defaultValue:{value:"right"},description:"",name:"side",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},widthMd:{defaultValue:{value:"80%"},description:"",name:"widthMd",required:!1,type:{name:"string"}},widthLg:{defaultValue:{value:"60%"},description:"",name:"widthLg",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Drawer.tsx#Drawer"]={docgenInfo:Drawer.__docgenInfo,name:"Drawer",path:"src/components/ui/Drawer.tsx#Drawer"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_headlessui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@headlessui/react/dist/components/listbox/listbox.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_icons_SelectIcon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/SelectIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Select=({className,value,displayValue,options,onChange,disabled=!1,label,placeholder})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-select",className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R,{value,onChange:value=>{onChange(value)},disabled,name:"day",children:[label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Label,{className:"memori-select--label",children:[label,":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Button,{"aria-label":label,className:"memori-select--button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-select--value",{"memori-select--value-placeholder":!value}),children:value?displayValue||value:placeholder}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"memori-select--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons_SelectIcon__WEBPACK_IMPORTED_MODULE_2__.default,{})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_5__.u,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Options,{className:"memori-select--options",children:options.map((opt=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_4__.R.Option,{value:opt.value,className:"memori-select--option",children:opt.label},opt.value)))})})]})});Select.displayName="Select";const __WEBPACK_DEFAULT_EXPORT__=Select;try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: any) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"{ value: any; label: any; }[]"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Select.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"src/components/ui/Select.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/configuration.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A2:()=>setLocalConfig,wm:()=>getLocalConfig});const keys={muteSpeaker:"@memori:muteSpeaker",microphoneMode:"@memori:microphoneMode",continuousSpeechTimeout:"@memori:continuousSpeechTimeout",sendOnEnter:"@memori:sendOnEnter",birthDate:"@memori:birthDate",controlsPosition:"@memori:controlsPosition",hideEmissions:"@memori:hideEmissions"},getLocalConfig=(key,defaultValue)=>{const value=window.localStorage.getItem(keys[key]??key);if(!value)return defaultValue;try{return JSON.parse(value)}catch{return value}},setLocalConfig=(key,value)=>{window.localStorage.setItem(keys[key]??key,value.toString())}},"./src/helpers/error.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>getErrori18nKey});const BACKEND_ERRORS=new Map(Object.entries({TENANT_NOT_FOUND:-1,TENANT_REGISTRATION_DISABLED:-2,TENANT_MISSING_NAME:-3,TENANT_MAX_USERS_REACHED:-4,TENANT_MAX_ADMINS_REACHED:-5,USER_NOT_CONFIRMED:-11,USER_NOT_FOUND:-12,USER_OR_PASSWORD_INVALID:-13,USER_MUST_CHANGE_PASSWORD:-14,USER_MUST_ENTER_VERIFICATION_CODE:-15,USER_MISSING_TENANT:-21,USER_MISSING_NAME:-22,USER_MISSING_PASSWORD:-23,USER_MISSING_EMAIL:-24,USER_MISSING_VERIFICATION_CODE:-25,USER_NAME_ALREADY_USED:-26,USER_PASSWORD_NOT_CONFORMING_TO_POLICY:-27,USER_EMAIL_ALREADY_USED:-28,USER_EMAIL_INVALID:-29,USER_VERIFICATION_CODE_INVALID:-30,USER_MISSING_NAME_OR_EMAIL:-31,USER_NAME_INVALID:-32,USER_HAS_ONE_OR_MORE_MEMORI:-33,USER_MISSING_NEW_PASSWORD:-34,USER_CANT_CREATE_MEMORI:-35,USER_MAX_MEMORI_REACHED:-36,USER_CANT_EDIT_INTEGRATIONS:-37,MEMORI_NOT_FOUND:-51,MEMORI_NOT_ACCESSIBLE:-52,MEMORI_ONLY_OWNER_CAN_CHANGE_GIVER_TAG_AND_PIN:-53,SESSION_NOT_FOUND:-101,SESSION_IS_NOT_ADMINISTRATIVE:-102,MEMORI_MISSING_CONFIGURATION:-201,MEMORI_CONFIGURATION_NOT_FOUND:-202,MEMORI_INVALID_PRIVACY_TYPE:-203,MEMORI_MISSING_PASSWORD:-204,MEMORI_INVALID_TOTAL_NUMBER_OF_RECOVERY_TOKENS:-205,MEMORI_INVALID_MINIMUM_NUMBER_OF_RECOVERY_TOKENS:-206,MEMORI_INVALID_VOICE_TYPE:-207,MEMORI_MISSING_NAME:-208,MEMORI_MISSING_PASSWORD_OR_RECOVERY_TOKENS:-209,MEMORI_INVALID_ID:-210,MEMORI_NAME_ALREADY_USED:-211,MEMORI_INVALID_PIN:-212,MEMORI_GIVER_TAG_PIN_CHANGE_REQUIRES_SEPARATE_OPERATION:-213,MEMORI_NO_PASSWORD_WHEN_PUBLIC:-214,MEMORI_TRANSFER_MISSING_DESTINATION_USER:-231,MEMORI_TRANSFER_INVALID_DESTINATION_USER_ID:-232,MEMORI_TRANSFER_DESTINATION_USER_DATA_INCONSISTENT:-233,MEMORI_TRANSFER_NOTHING_TO_DO:-234,MEMORI_CONFIGURATION_CANT_BE_CHANGED:-251,MEMORI_MISSING_NEW_PASSWORD:-252,MEMORI_SESSIONS_INVALID_DATE_FROM_FORMAT:-261,MEMORI_SESSIONS_INVALID_DATE_TO_FORMAT:-262,INTEGRATION_NOT_FOUND:-301,INTEGRATION_INVALID_TYPE:-401,INTEGRATION_ALREADY_EXISTS:-402,INTEGRATION_MEMORI_IS_NOT_PUBLIC:-403,INTEGRATION_MISSING_INVOCATION_TEXT:-404,INTEGRATION_MISSING_DEVICE_EMAILS:-405,INTEGRATION_MEMORI_IS_EMPTY:-406,INTEGRATION_MISSING_PRIVACY_POLICY:-407,INTEGRATION_MISSING_CATEGORY:-408,INTEGRATION_MISSING_DESCRIPTION:-409,INTEGRATION_INVALID_INVOCATION_TEXT:-410,INTEGRATION_GOOGLE_NO_MORE_AVAILABLE:-411,UPLOAD_REQUIRES_MULTIPART_ENCODING:-501,UPLOAD_MISSING_CONTENT_TYPE_BOUNDARY:-502,UPLOAD_MAX_LENGTH_EXCEEDED:-503,UPLOAD_FILE_IS_EMPTY:-504,UPLOAD_INVALID_FILE_TYPE_OR_SIGNATURE:-505,UPLOAD_MISSING_FILE_NAME:-506,UPLOAD_INVALID_MEMORY_ID:-507,UPLOAD_MISSING_FILE_CONTENT:-508,ASSET_NOT_FOUND:-601,ASSET_NOT_ACCESSIBLE:-602,ASSET_MISSING_SESSION_ID:-603,ASSET_INVALID_FILE_NAME:-604,INVITATION_NOT_FOUND:-701,INVITATION_NOT_ACCESSIBLE:-702,INVITATION_ALREADY_ACCEPTED:-703,INVITATION_ALREADY_REJECTED:-704,INVITATION_MISSING_DESTINATION_EMAIL:-705,INVITATION_DESTINATION_EMAIL_INVALID:-706,INVITATION_MISSING_TAG:-707,INVITATION_MISSING_PIN:-708,INVITATION_INVALID_PIN:-709,INVITATION_INVALID_TYPE:-710,INVITATION_MISSING_DESTINATION_NAME:-711,INVITATION_TAG_PIN_CANT_BE_CHANGED:-712,INVITATION_CANT_BE_CHANGED:-713,ACTIONLOG_INVALID_USER_ID:-801,ACTIONLOG_INVALID_DATE_FROM_FORMAT:-802,ACTIONLOG_INVALID_DATE_TO_FORMAT:-803,ACTIONLOG_INVALID_MEMORI_ID:-804,CONSUMPTIONLOG_INVALID_TYPE:-901,CONSUMPTIONLOG_INVALID_DATE_FROM_FORMAT:-902,CONSUMPTIONLOG_INVALID_DATE_TO_FORMAT:-903,CONSUMPTIONLOG_INVALID_USER_ID:-904,CONSUMPTIONLOG_INVALID_MEMORI_ID:-905}).map((([key,value])=>[value,key]))),getErrori18nKey=errorCode=>{if(!errorCode)return"error.generic";if(401===errorCode||403===errorCode)return"error.unauthorized";if(404===errorCode)return"error.notFound";if(422===errorCode)return"error.unprocessableEntity";if(500===errorCode)return"internal server error";let error=BACKEND_ERRORS.get(errorCode);return error?`errors.${error}`:"error.generic"}}}]);