"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[2204],{"./src/components/ChatHistoryDrawer/ChatHistory.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,EmptyState:()=>EmptyState,LoadingState:()=>LoadingState,WithPagination:()=>WithPagination,WithSearch:()=>WithSearch,WithSelectedChat:()=>WithSelectedChat,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _ChatHistory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ChatHistoryDrawer/ChatHistory.tsx"),_I18nWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/I18nWrapper.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const mockApiClient={chatLogs:{getChatLogsByUser:()=>Promise.resolve({chatLogs:mockChatLogs})}},mockChatLogs=[{chatLogID:"chat123456",memoriID:"mem123",sessionID:"session123",timestamp:"2023-01-01T10:00:00Z",lines:[{text:"Hello, how can I help?",inbound:!0,timestamp:"2023-01-01T10:00:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"I need information about your services",inbound:!1,timestamp:"2023-01-01T10:01:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"We offer a range of services including consultation, implementation, and support.",inbound:!0,timestamp:"2023-01-01T10:02:00Z",contextVars:{},media:[],memoryID:"mem123"}],boardOfExperts:!1},{chatLogID:"chat456789",memoriID:"mem123",sessionID:"session123",timestamp:"2023-01-02T14:00:00Z",lines:[{text:"What are your business hours?",inbound:!1,timestamp:"2023-01-02T14:00:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"We are open from 9 AM to 5 PM weekdays.",inbound:!0,timestamp:"2023-01-02T14:01:00Z",contextVars:{},media:[],memoryID:"mem123"}],boardOfExperts:!0},{chatLogID:"chat789012",memoriID:"mem123",sessionID:"session123",timestamp:"2023-01-03T11:00:00Z",lines:[{text:"Do you offer remote services?",inbound:!1,timestamp:"2023-01-03T11:00:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"Yes, we offer both in-person and remote services to accommodate your needs.",inbound:!0,timestamp:"2023-01-03T11:01:00Z",contextVars:{},media:[],memoryID:"mem123"}],boardOfExperts:!1},{chatLogID:"chat345678",memoriID:"mem123",sessionID:"session123",timestamp:"2023-01-04T09:30:00Z",lines:[{text:"What is your pricing structure?",inbound:!1,timestamp:"2023-01-04T09:30:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"Our pricing is based on project scope. We offer packages starting at $499 for basic services, with custom quotes for larger projects.",inbound:!0,timestamp:"2023-01-04T09:31:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"Do you offer any discounts?",inbound:!1,timestamp:"2023-01-04T09:32:00Z",contextVars:{},media:[],memoryID:"mem123"},{text:"Yes, we offer discounts for non-profits and educational institutions. We also have loyalty programs for returning customers.",inbound:!0,timestamp:"2023-01-04T09:33:00Z",contextVars:{},media:[],memoryID:"mem123"}],boardOfExperts:!1}],__WEBPACK_DEFAULT_EXPORT__={title:"Widget/Chat History Drawer",component:_ChatHistory__WEBPACK_IMPORTED_MODULE_1__.A,decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_I18nWrapper__WEBPACK_IMPORTED_MODULE_2__.A,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Story,{})})],parameters:{layout:"fullscreen"},args:{open:!0,sessionId:"session123",memori:{memoriID:"mem123",name:"Test Memori",avatar:{url:"https://example.com/avatar.jpg"},description:"A test memori",isPublic:!0,integrationEnabled:!1,enableBoardOfExperts:!0,memoriConfigurationID:"mem123",privacyType:"PUBLIC",voiceType:"FEMALE"},apiClient:mockApiClient,onClose:()=>console.log("Close button clicked"),history:mockChatLogs.map((chatLog=>({text:chatLog.lines[0].text,fromUser:chatLog.lines[0].inbound,timestamp:chatLog.lines[0].timestamp}))),resumeSession:chatLog=>{console.log("Resume session called with:",chatLog)}},argTypes:{open:{control:"boolean",description:"Whether the drawer is open"},onClose:{action:"closed"},resumeSession:{action:"resumed session"}}},Default={args:{}},WithSelectedChat={args:{},play:async({canvasElement})=>{const canvas=canvasElement.ownerDocument.body;setTimeout((()=>{const chatCard=canvas.querySelector(".memori-chat-history-drawer--card");chatCard&&chatCard.click()}),300)}},EmptyState={args:{apiClient:{chatLogs:{getChatLogsByUser:()=>Promise.resolve({chatLogs:[]})}}}},LoadingState={args:{apiClient:{chatLogs:{getChatLogsByUser:()=>new Promise((resolve=>{setTimeout((()=>{resolve({chatLogs:mockChatLogs})}),2e3)}))}}}},WithSearch={args:{},play:async({canvasElement})=>{const canvas=canvasElement.ownerDocument.body;setTimeout((()=>{const searchInput=canvas.querySelector('input[type="text"]');searchInput&&(searchInput.value="pricing",searchInput.dispatchEvent(new Event("change",{bubbles:!0})))}),300)}},WithPagination={args:{apiClient:{chatLogs:{getChatLogsByUser:()=>{const manyLogs=Array.from({length:20},((_,i)=>({chatLogID:`chat${i}`,lines:[{text:`Question ${i}`,inbound:!1,timestamp:`2023-01-0${i%9+1}T10:00:00Z`,contextVars:{},media:[],memoryID:"mem123",sessionID:"session123"},{text:`Answer ${i}`,inbound:!0,timestamp:`2023-01-0${i%9+1}T10:01:00Z`,contextVars:{},media:[],memoryID:"mem123",sessionID:"session123"}],boardOfExperts:i%3==0})));return Promise.resolve({chatLogs:manyLogs})}}}}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Default.parameters?.docs?.source}}},WithSelectedChat.parameters={...WithSelectedChat.parameters,docs:{...WithSelectedChat.parameters?.docs,source:{originalSource:"{\n  args: {},\n  play: async ({\n    canvasElement\n  }) => {\n    // We need to use the play function to simulate clicking on a chat\n    const canvas = canvasElement.ownerDocument.body;\n    setTimeout(() => {\n      const chatCard = canvas.querySelector('.memori-chat-history-drawer--card');\n      if (chatCard) {\n        (chatCard as HTMLElement).click();\n      }\n    }, 300);\n  }\n}",...WithSelectedChat.parameters?.docs?.source}}},EmptyState.parameters={...EmptyState.parameters,docs:{...EmptyState.parameters?.docs,source:{originalSource:"{\n  args: {\n    apiClient: {\n      chatLogs: {\n        getChatLogsByUser: () => Promise.resolve({\n          chatLogs: []\n        })\n      }\n    } as any\n  }\n}",...EmptyState.parameters?.docs?.source}}},LoadingState.parameters={...LoadingState.parameters,docs:{...LoadingState.parameters?.docs,source:{originalSource:"{\n  args: {\n    apiClient: {\n      chatLogs: {\n        getChatLogsByUser: () => new Promise(resolve => {\n          // Simulate a slow network\n          setTimeout(() => {\n            resolve({\n              chatLogs: mockChatLogs\n            });\n          }, 2000);\n        })\n      }\n    } as any\n  }\n}",...LoadingState.parameters?.docs?.source}}},WithSearch.parameters={...WithSearch.parameters,docs:{...WithSearch.parameters?.docs,source:{originalSource:"{\n  args: {},\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = canvasElement.ownerDocument.body;\n    setTimeout(() => {\n      const searchInput = canvas.querySelector('input[type=\"text\"]');\n      if (searchInput) {\n        (searchInput as HTMLInputElement).value = 'pricing';\n        (searchInput as HTMLInputElement).dispatchEvent(new Event('change', {\n          bubbles: true\n        }));\n      }\n    }, 300);\n  }\n}",...WithSearch.parameters?.docs?.source}}},WithPagination.parameters={...WithPagination.parameters,docs:{...WithPagination.parameters?.docs,source:{originalSource:"{\n  args: {\n    apiClient: {\n      chatLogs: {\n        getChatLogsByUser: () => {\n          // Create 20 mock chat logs to trigger pagination\n          const manyLogs = Array.from({\n            length: 20\n          }, (_, i) => ({\n            chatLogID: `chat${i}`,\n            lines: [{\n              text: `Question ${i}`,\n              inbound: false,\n              timestamp: `2023-01-0${i % 9 + 1}T10:00:00Z`,\n              contextVars: {},\n              media: [],\n              memoryID: 'mem123',\n              sessionID: 'session123'\n            }, {\n              text: `Answer ${i}`,\n              inbound: true,\n              timestamp: `2023-01-0${i % 9 + 1}T10:01:00Z`,\n              contextVars: {},\n              media: [],\n              memoryID: 'mem123',\n              sessionID: 'session123'\n            }],\n            boardOfExperts: i % 3 === 0\n          }));\n          return Promise.resolve({\n            chatLogs: manyLogs\n          });\n        }\n      }\n    } as any\n  }\n}",...WithPagination.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithSelectedChat","EmptyState","LoadingState","WithSearch","WithPagination"]},"./src/components/icons/Download.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Download=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})});Download.displayName="Download";const __WEBPACK_DEFAULT_EXPORT__=Download;try{Download.displayName="Download",Download.__docgenInfo={description:"",displayName:"Download",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Download.tsx#Download"]={docgenInfo:Download.__docgenInfo,name:"Download",path:"src/components/icons/Download.tsx#Download"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Message.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Message=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"})});Message.displayName="Message";const __WEBPACK_DEFAULT_EXPORT__=Message;try{Message.displayName="Message",Message.__docgenInfo={description:"",displayName:"Message",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Message.tsx#Message"]={docgenInfo:Message.__docgenInfo,name:"Message",path:"src/components/icons/Message.tsx#Message"})}catch(__react_docgen_typescript_loader_error){}}}]);