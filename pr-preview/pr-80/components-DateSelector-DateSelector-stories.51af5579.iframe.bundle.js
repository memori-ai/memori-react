"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[4199],{"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_slicedToArray});var arrayWithHoles=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),nonIterableRest=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function _slicedToArray(r,e){return(0,arrayWithHoles.A)(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||(0,unsupportedIterableToArray.A)(r,e)||(0,nonIterableRest.A)()}},"./node_modules/react-i18next/dist/es/useTranslation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>useTranslation});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/context.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/utils.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__.A)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var usePrevious=function usePrevious(value,ignore){var ref=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){ref.current=ignore?ref.current:value},[value,ignore]),ref.current};function useTranslation(ns){var props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i18nFromProps=props.i18n,_ref=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_context__WEBPACK_IMPORTED_MODULE_3__.gJ)||{},i18nFromContext=_ref.i18n,defaultNSFromContext=_ref.defaultNS,i18n=i18nFromProps||i18nFromContext||(0,_context__WEBPACK_IMPORTED_MODULE_3__.TO)();if(i18n&&!i18n.reportNamespaces&&(i18n.reportNamespaces=new _context__WEBPACK_IMPORTED_MODULE_3__.hz),!i18n){(0,_utils__WEBPACK_IMPORTED_MODULE_4__.mc)("You will need to pass in an i18next instance by using initReactI18next");var notReadyT=function notReadyT(k){return Array.isArray(k)?k[k.length-1]:k},retNotReady=[notReadyT,{},!1];return retNotReady.t=notReadyT,retNotReady.i18n={},retNotReady.ready=!1,retNotReady}i18n.options.react&&void 0!==i18n.options.react.wait&&(0,_utils__WEBPACK_IMPORTED_MODULE_4__.mc)("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var i18nOptions=_objectSpread(_objectSpread(_objectSpread({},(0,_context__WEBPACK_IMPORTED_MODULE_3__.rV)()),i18n.options.react),props),useSuspense=i18nOptions.useSuspense,keyPrefix=i18nOptions.keyPrefix,namespaces=ns||defaultNSFromContext||i18n.options&&i18n.options.defaultNS;namespaces="string"==typeof namespaces?[namespaces]:namespaces||["translation"],i18n.reportNamespaces.addUsedNamespaces&&i18n.reportNamespaces.addUsedNamespaces(namespaces);var ready=(i18n.isInitialized||i18n.initializedStoreOnce)&&namespaces.every(function(n){return(0,_utils__WEBPACK_IMPORTED_MODULE_4__.NM)(n,i18n,i18nOptions)});function getT(){return i18n.getFixedT(null,"fallback"===i18nOptions.nsMode?namespaces:namespaces[0],keyPrefix)}var _useState=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(getT),_useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.A)(_useState,2),t=_useState2[0],setT=_useState2[1],joinedNS=namespaces.join(),previousJoinedNS=usePrevious(joinedNS),isMounted=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(!0);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){var bindI18n=i18nOptions.bindI18n,bindI18nStore=i18nOptions.bindI18nStore;function boundReset(){isMounted.current&&setT(getT)}return isMounted.current=!0,ready||useSuspense||(0,_utils__WEBPACK_IMPORTED_MODULE_4__.dM)(i18n,namespaces,function(){isMounted.current&&setT(getT)}),ready&&previousJoinedNS&&previousJoinedNS!==joinedNS&&isMounted.current&&setT(getT),bindI18n&&i18n&&i18n.on(bindI18n,boundReset),bindI18nStore&&i18n&&i18n.store.on(bindI18nStore,boundReset),function(){isMounted.current=!1,bindI18n&&i18n&&bindI18n.split(" ").forEach(function(e){return i18n.off(e,boundReset)}),bindI18nStore&&i18n&&bindI18nStore.split(" ").forEach(function(e){return i18n.store.off(e,boundReset)})}},[i18n,joinedNS]);var isInitial=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(!0);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function(){isMounted.current&&!isInitial.current&&setT(getT),isInitial.current=!1},[i18n,keyPrefix]);var ret=[t,i18n,ready];if(ret.t=t,ret.i18n=i18n,ret.ready=ready,ready)return ret;if(!ready&&!useSuspense)return ret;throw new Promise(function(resolve){(0,_utils__WEBPACK_IMPORTED_MODULE_4__.dM)(i18n,namespaces,function(){resolve()})})}},"./node_modules/react-i18next/dist/es/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function warn(){if(console&&console.warn){for(var _console,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];"string"==typeof args[0]&&(args[0]="react-i18next:: ".concat(args[0])),(_console=console).warn.apply(_console,args)}}__webpack_require__.d(__webpack_exports__,{Mn:()=>getDisplayName,NM:()=>hasLoadedNamespace,dM:()=>loadNamespaces,mc:()=>warnOnce});var alreadyWarned={};function warnOnce(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];"string"==typeof args[0]&&alreadyWarned[args[0]]||("string"==typeof args[0]&&(alreadyWarned[args[0]]=new Date),warn.apply(void 0,args))}function loadNamespaces(i18n,ns,cb){i18n.loadNamespaces(ns,function(){if(i18n.isInitialized)cb();else{i18n.on("initialized",function initialized(){setTimeout(function(){i18n.off("initialized",initialized)},0),cb()})}})}function hasLoadedNamespace(ns,i18n){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i18n.languages&&i18n.languages.length?void 0!==i18n.options.ignoreJSONStructure?i18n.hasLoadedNamespace(ns,{precheck:function precheck(i18nInstance,loadNotPending){if(options.bindI18n&&options.bindI18n.indexOf("languageChanging")>-1&&i18nInstance.services.backendConnector.backend&&i18nInstance.isLanguageChangingTo&&!loadNotPending(i18nInstance.isLanguageChangingTo,ns))return!1}}):function oldI18nextHasLoadedNamespace(ns,i18n){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},lng=i18n.languages[0],fallbackLng=!!i18n.options&&i18n.options.fallbackLng,lastLng=i18n.languages[i18n.languages.length-1];if("cimode"===lng.toLowerCase())return!0;var loadNotPending=function loadNotPending(l,n){var loadState=i18n.services.backendConnector.state["".concat(l,"|").concat(n)];return-1===loadState||2===loadState};return!(options.bindI18n&&options.bindI18n.indexOf("languageChanging")>-1&&i18n.services.backendConnector.backend&&i18n.isLanguageChangingTo&&!loadNotPending(i18n.isLanguageChangingTo,ns)||!i18n.hasResourceBundle(lng,ns)&&i18n.services.backendConnector.backend&&(!i18n.options.resources||i18n.options.partialBundledLanguages)&&(!loadNotPending(lng,ns)||fallbackLng&&!loadNotPending(lastLng,ns)))}(ns,i18n,options):(warnOnce("i18n.languages were undefined or empty",i18n.languages),!0)}function getDisplayName(Component){return Component.displayName||Component.name||("string"==typeof Component&&Component.length>0?Component:"Unknown")}},"./src/components/DateSelector/DateSelector.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Disabled:()=>Disabled,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DateSelector_stories});__webpack_require__("./node_modules/react/index.js");var I18nWrapper=__webpack_require__("./src/I18nWrapper.tsx"),DateSelector=__webpack_require__("./src/components/DateSelector/DateSelector.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),DateSelector_DateSelector=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/DateSelector/DateSelector.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(DateSelector_DateSelector.A,options);DateSelector_DateSelector.A&&DateSelector_DateSelector.A.locals&&DateSelector_DateSelector.A.locals;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DateSelector_stories={title:"DateSelector",component:DateSelector.A,parameters:{controls:{expanded:!0},layout:"fullscreen"}},Template=args=>(0,jsx_runtime.jsx)(I18nWrapper.A,{children:(0,jsx_runtime.jsx)(DateSelector.A,{...args})});Template.displayName="Template";const Default=Template.bind({});Default.args={defaultDate:new Date(Date.now()),onChange:console.log,disabled:!1};const Disabled=Template.bind({});Disabled.args={defaultDate:new Date(Date.now()),onChange:()=>{},disabled:!0},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <DateSelector {...args} />\n  </I18nWrapper>",...Default.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <DateSelector {...args} />\n  </I18nWrapper>",...Disabled.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Disabled"]},"./src/components/DateSelector/DateSelector.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),luxon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/luxon/src/luxon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DateSelector=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({defaultDate,onChange,disabled=!1})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.B)(),maxDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>luxon__WEBPACK_IMPORTED_MODULE_1__.c9.now().minus({years:18}),[]),minDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>luxon__WEBPACK_IMPORTED_MODULE_1__.c9.fromObject({year:1900,month:1,day:1}),[]),[day,setDay]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[month,setMonth]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[year,setYear]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(defaultDate){const dt="string"==typeof defaultDate?luxon__WEBPACK_IMPORTED_MODULE_1__.c9.fromISO(defaultDate):luxon__WEBPACK_IMPORTED_MODULE_1__.c9.fromJSDate(defaultDate);dt.isValid&&(setDay(dt.day.toString()),setMonth(dt.month.toString()),setYear(dt.year.toString()))}},[defaultDate]);const[isMobile,setIsMobile]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),dayRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),monthRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),yearRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const checkMobile=()=>{setIsMobile(window.innerWidth<768)};return checkMobile(),window.addEventListener("resize",checkMobile),()=>window.removeEventListener("resize",checkMobile)},[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(!day||!month||!year)return void onChange(void 0);const d=parseInt(day),m=parseInt(month),y=parseInt(year);if(isNaN(d)||isNaN(m)||isNaN(y))return void onChange(void 0);const newDate=luxon__WEBPACK_IMPORTED_MODULE_1__.c9.fromObject({year:y,month:m,day:d});newDate.isValid&&newDate>=minDate&&newDate<=maxDate?onChange(newDate):onChange(void 0)},[day,month,year,onChange,minDate,maxDate]);const handleMobileChange=e=>{const value=e.target.value;if(value){const newDate=luxon__WEBPACK_IMPORTED_MODULE_1__.c9.fromISO(value);newDate.isValid&&(setDay(newDate.day.toString()),setMonth(newDate.month.toString()),setYear(newDate.year.toString()))}else setDay(""),setMonth(""),setYear("")};if(isMobile){const currentDate=day&&month&&year?luxon__WEBPACK_IMPORTED_MODULE_1__.c9.fromObject({year:parseInt(year),month:parseInt(month),day:parseInt(day)}):null;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"memori--date-selector memori--date-selector--mobile",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("label",{className:"memori--date-selector__mobile-label",children:[t("birthDate")||"Birth Date",":"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{type:"date",className:"memori--date-selector__mobile-input",value:currentDate?.isValid&&currentDate.toISODate()||"",onChange:handleMobileChange,disabled,min:minDate.toISODate()||"1900-01-01",max:maxDate.toISODate()||"","aria-label":String(t("dateOfBirth")||t("date"))})]})}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"memori--date-selector memori--date-selector--desktop",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"memori--date-selector__input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{className:"memori--date-selector__label",children:t("day")||"Day"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{ref:dayRef,type:"number",className:"memori--date-selector__input",value:day,onChange:e=>{const val=e.target.value;if(""===val||/^\d+$/.test(val)){if(val.length>2)return;if(parseInt(val)>31)return;setDay(val),val.length>=2&&monthRef.current?.focus()}},placeholder:t("dayPlaceholder")||"DD",min:1,max:31,disabled})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"memori--date-selector__input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{className:"memori--date-selector__label",children:t("month")||"Month"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{ref:monthRef,type:"number",className:"memori--date-selector__input",value:month,onChange:e=>{const val=e.target.value;if(""===val||/^\d+$/.test(val)){if(val.length>2)return;if(parseInt(val)>12)return;setMonth(val),val.length>=2&&yearRef.current?.focus()}},placeholder:t("monthPlaceholder")||"MM",min:1,max:12,disabled})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:"memori--date-selector__input-group memori--date-selector__input-group--year",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("label",{className:"memori--date-selector__label",children:t("year")||"Year"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{ref:yearRef,type:"number",className:"memori--date-selector__input",value:year,onChange:e=>{const val=e.target.value;if(""===val||/^\d+$/.test(val)){if(val.length>4)return;setYear(val)}},placeholder:t("yearPlaceholder")||"YYYY",min:minDate.year,max:maxDate.year,disabled})]})]})});DateSelector.displayName="DateSelector";const __WEBPACK_DEFAULT_EXPORT__=DateSelector;try{DateSelector.displayName="DateSelector",DateSelector.__docgenInfo={description:"",displayName:"DateSelector",props:{defaultDate:{defaultValue:null,description:"",name:"defaultDate",required:!1,type:{name:"string | Date"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(date: DateTime<boolean> | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DateSelector/DateSelector.tsx#DateSelector"]={docgenInfo:DateSelector.__docgenInfo,name:"DateSelector",path:"src/components/DateSelector/DateSelector.tsx#DateSelector"})}catch(__react_docgen_typescript_loader_error){}}}]);