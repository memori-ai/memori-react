"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[8707],{"./node_modules/@headlessui/react/dist/components/description/description.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>F,r:()=>k});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hooks_use_id_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-id.js"),_utils_render_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@headlessui/react/dist/utils/render.js"),_hooks_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js"),_hooks_use_sync_refs_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-sync-refs.js"),_hooks_use_event_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-event.js");let d=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function u(){let r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(d);if(null===r){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}return r}function k(){let[r,t]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);return[r.length>0?r.join(" "):void 0,(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>function(e){let i=(0,_hooks_use_event_js__WEBPACK_IMPORTED_MODULE_5__._)(n=>(t(o=>[...o,n]),()=>t(o=>{let c=o.slice(),p=c.indexOf(n);return-1!==p&&c.splice(p,1),c}))),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({register:i,slot:e.slot,name:e.name,props:e.props}),[i,e.slot,e.name,e.props]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(d.Provider,{value:s},e.children)},[t])]}let F=(0,_utils_render_js__WEBPACK_IMPORTED_MODULE_2__.FX)(function(t,a){let e=u(),i=`headlessui-description-${(0,_hooks_use_id_js__WEBPACK_IMPORTED_MODULE_1__.B)()}`,s=(0,_hooks_use_sync_refs_js__WEBPACK_IMPORTED_MODULE_4__.P)(a);(0,_hooks_use_iso_morphic_effect_js__WEBPACK_IMPORTED_MODULE_3__.s)(()=>e.register(i),[i,e.register]);let n=t,o={ref:s,...e.props,id:i};return(0,_utils_render_js__WEBPACK_IMPORTED_MODULE_2__.XX)({ourProps:o,theirProps:n,slot:e.slot||{},defaultTag:"p",name:e.name||"Description"})})},"./node_modules/@headlessui/react/dist/components/dialog/dialog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>gt});var react=__webpack_require__("./node_modules/react/index.js"),match=__webpack_require__("./node_modules/@headlessui/react/dist/utils/match.js"),render=__webpack_require__("./node_modules/@headlessui/react/dist/utils/render.js"),use_sync_refs=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-sync-refs.js"),keyboard=__webpack_require__("./node_modules/@headlessui/react/dist/components/keyboard.js"),bugs=__webpack_require__("./node_modules/@headlessui/react/dist/utils/bugs.js"),use_id=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-id.js"),use_server_handoff_complete=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js"),internal_hidden=__webpack_require__("./node_modules/@headlessui/react/dist/internal/hidden.js"),focus_management=__webpack_require__("./node_modules/@headlessui/react/dist/utils/focus-management.js"),use_event=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-event.js"),use_latest_value=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-latest-value.js");var use_tab_direction_s=(r=>(r[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r))(use_tab_direction_s||{});function use_tab_direction_n(){let e=(0,react.useRef)(0);return function s(e,r,n){let o=(0,use_latest_value.Y)(r);(0,react.useEffect)(()=>{function t(i){o.current(i)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)},[e,n])}("keydown",o=>{"Tab"===o.key&&(e.current=o.shiftKey?1:0)},!0),e}var use_is_mounted=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-is-mounted.js"),use_owner=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-owner.js");function E(n,e,a,t){let i=(0,use_latest_value.Y)(a);(0,react.useEffect)(()=>{function r(o){i.current(o)}return(n=null!=n?n:window).addEventListener(e,r,t),()=>n.removeEventListener(e,r,t)},[n,e,t])}var micro_task=__webpack_require__("./node_modules/@headlessui/react/dist/utils/micro-task.js"),use_watch=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-watch.js");var v=(r=>(r[r.None=1]="None",r[r.InitialFocus=2]="InitialFocus",r[r.TabLock=4]="TabLock",r[r.FocusLock=8]="FocusLock",r[r.RestoreFocus=16]="RestoreFocus",r[r.All=30]="All",r))(v||{});let fe=Object.assign((0,render.FX)(function(u,e){let l=(0,react.useRef)(null),o=(0,use_sync_refs.P)(l,e),{initialFocus:a,containers:r,features:n=30,...c}=u;(0,use_server_handoff_complete.g)()||(n=1);let s=(0,use_owner.g)(l);!function V({ownerDocument:t},u){let e=(0,react.useRef)(null);E(null==t?void 0:t.defaultView,"focusout",o=>{!u||e.current||(e.current=o.target)},!0),(0,use_watch.F)(()=>{u||((null==t?void 0:t.activeElement)===(null==t?void 0:t.body)&&(0,focus_management.pW)(e.current),e.current=null)},[u]);let l=(0,react.useRef)(!1);(0,react.useEffect)(()=>(l.current=!1,()=>{l.current=!0,(0,micro_task._)(()=>{!l.current||((0,focus_management.pW)(e.current),e.current=null)})}),[])}({ownerDocument:s},Boolean(16&n));let j=function x({ownerDocument:t,container:u,initialFocus:e},l){let o=(0,react.useRef)(null),a=(0,use_is_mounted.a)();return(0,use_watch.F)(()=>{if(!l)return;let r=u.current;!r||(0,micro_task._)(()=>{if(!a.current)return;let n=null==t?void 0:t.activeElement;if(null!=e&&e.current){if((null==e?void 0:e.current)===n)return void(o.current=n)}else if(r.contains(n))return void(o.current=n);null!=e&&e.current?(0,focus_management.pW)(e.current):(0,focus_management.CU)(r,focus_management.BD.First)===focus_management.Me.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=null==t?void 0:t.activeElement})},[l]),o}({ownerDocument:s,container:l,initialFocus:a},Boolean(2&n));!function G({ownerDocument:t,container:u,containers:e,previousActiveElement:l},o){let a=(0,use_is_mounted.a)();E(null==t?void 0:t.defaultView,"focus",r=>{if(!o||!a.current)return;let n=new Set(null==e?void 0:e.current);n.add(u);let c=l.current;if(!c)return;let s=r.target;s&&s instanceof HTMLElement?function W(t,u){var e;for(let l of t)if(null!=(e=l.current)&&e.contains(u))return!0;return!1}(n,s)?(l.current=s,(0,focus_management.pW)(s)):(r.preventDefault(),r.stopPropagation(),(0,focus_management.pW)(c)):(0,focus_management.pW)(l.current)},!0)}({ownerDocument:s,container:l,containers:r,previousActiveElement:j},Boolean(8&n));let k=use_tab_direction_n(),p=(0,use_event._)(()=>{let T=l.current;!T||(0,match.Y)(k.current,{[use_tab_direction_s.Forwards]:()=>(0,focus_management.CU)(T,focus_management.BD.First),[use_tab_direction_s.Backwards]:()=>(0,focus_management.CU)(T,focus_management.BD.Last)})}),A={ref:o};return react.createElement(react.Fragment,null,Boolean(4&n)&&react.createElement(internal_hidden.j,{as:"button",type:"button",onFocus:p,features:internal_hidden.O.Focusable}),(0,render.XX)({ourProps:A,theirProps:c,defaultTag:"div",name:"FocusTrap"}),Boolean(4&n)&&react.createElement(internal_hidden.j,{as:"button",type:"button",onFocus:p,features:internal_hidden.O.Focusable}))}),{features:v});var owner=__webpack_require__("./node_modules/@headlessui/react/dist/utils/owner.js"),use_iso_morphic_effect=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js");let i=new Set,r=new Map;function u(t){t.setAttribute("aria-hidden","true"),t.inert=!0}function l(t){let n=r.get(t);!n||(null===n["aria-hidden"]?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert)}function M(t,n=!0){(0,use_iso_morphic_effect.s)(()=>{if(!n||!t.current)return;let o=t.current,a=(0,owner.T)(o);if(a){i.add(o);for(let e of r.keys())e.contains(o)&&(l(e),r.delete(e));return a.querySelectorAll("body > *").forEach(e=>{if(e instanceof HTMLElement){for(let f of i)if(e.contains(f))return;1===i.size&&(r.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),u(e))}}),()=>{if(i.delete(o),i.size>0)a.querySelectorAll("body > *").forEach(e=>{if(e instanceof HTMLElement&&!r.has(e)){for(let f of i)if(e.contains(f))return;r.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),u(e)}});else for(let e of r.keys())l(e),r.delete(e)}}},[n])}var react_dom=__webpack_require__("./node_modules/react-dom/index.js");let e=(0,react.createContext)(!1);function portal_force_root_l(){return(0,react.useContext)(e)}function portal_force_root_P(o){return react.createElement(e.Provider,{value:o.force},o.children)}var ssr=__webpack_require__("./node_modules/@headlessui/react/dist/utils/ssr.js");let _=react.Fragment,U=(0,render.FX)(function(u,o){let e=u,r=(0,react.useRef)(null),f=(0,use_sync_refs.P)((0,use_sync_refs.a)(a=>{r.current=a}),o),n=(0,use_owner.g)(r),t=function portal_x(i){let u=portal_force_root_l(),o=(0,react.useContext)(A),e=(0,use_owner.g)(i),[r,f]=(0,react.useState)(()=>{if(!u&&null!==o||ssr.S)return null;let n=null==e?void 0:e.getElementById("headlessui-portal-root");if(n)return n;if(null===e)return null;let t=e.createElement("div");return t.setAttribute("id","headlessui-portal-root"),e.body.appendChild(t)});return(0,react.useEffect)(()=>{null!==r&&(null!=e&&e.body.contains(r)||null==e||e.body.appendChild(r))},[r,e]),(0,react.useEffect)(()=>{u||null!==o&&f(o.current)},[o,f,u]),r}(r),[l]=(0,react.useState)(()=>{var a;return ssr.S?null:null!=(a=null==n?void 0:n.createElement("div"))?a:null}),b=(0,use_server_handoff_complete.g)(),p=(0,react.useRef)(!1);return(0,use_iso_morphic_effect.s)(()=>{if(p.current=!1,t&&l)return t.contains(l)||(l.setAttribute("data-headlessui-portal",""),t.appendChild(l)),()=>{p.current=!0,(0,micro_task._)(()=>{var a;!p.current||!t||!l||(t.removeChild(l),t.childNodes.length<=0&&(null==(a=t.parentElement)||a.removeChild(t)))})}},[t,l]),b&&t&&l?(0,react_dom.createPortal)((0,render.XX)({ourProps:{ref:f},theirProps:e,defaultTag:_,name:"Portal"}),l):null}),j=react.Fragment,A=(0,react.createContext)(null),F=(0,render.FX)(function(u,o){let{target:e,...r}=u,n={ref:(0,use_sync_refs.P)(o)};return react.createElement(A.Provider,{value:e},(0,render.XX)({ourProps:n,theirProps:r,defaultTag:j,name:"Popover.Group"}))}),portal_$=Object.assign(U,{Group:F});var description=__webpack_require__("./node_modules/@headlessui/react/dist/components/description/description.js"),open_closed=__webpack_require__("./node_modules/@headlessui/react/dist/internal/open-closed.js");let a=(0,react.createContext)(()=>{});a.displayName="StackContext";var stack_context_s=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(stack_context_s||{});function stack_context_M({children:i,onUpdate:r,type:e,element:n,enabled:u}){let l=function stack_context_x(){return(0,react.useContext)(a)}(),o=(0,use_event._)((...t)=>{null==r||r(...t),l(...t)});return(0,use_iso_morphic_effect.s)(()=>{let t=void 0===u||!0===u;return t&&o(0,e,n),()=>{t&&o(1,e,n)}},[o,e,n,u]),react.createElement(a.Provider,{value:o},i)}var use_outside_click=__webpack_require__("./node_modules/@headlessui/react/dist/hooks/use-outside-click.js"),disposables=__webpack_require__("./node_modules/@headlessui/react/dist/utils/disposables.js");var Re=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(Re||{}),be=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(be||{});let Ae={0:(l,e)=>l.titleId===e.id?l:{...l,titleId:e.id}},dialog_M=(0,react.createContext)(null);function L(l){let e=(0,react.useContext)(dialog_M);if(null===e){let r=new Error(`<${l} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,L),r}return e}function Ee(l,e){(0,react.useEffect)(()=>{var p;if(!e||!l)return;let r=(0,disposables.e)();function t(n,d,m){let i=n.style.getPropertyValue(d);return Object.assign(n.style,{[d]:m}),r.add(()=>{Object.assign(n.style,{[d]:i})})}let o=l.documentElement,s=(null!=(p=l.defaultView)?p:window).innerWidth-o.clientWidth;if(t(o,"overflow","hidden"),s>0){t(o,"paddingRight",`${s-(o.clientWidth-o.offsetWidth)}px`)}if(function platform_o(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}()){let n=window.pageYOffset;t(o,"position","fixed"),t(o,"marginTop",`-${n}px`),t(o,"width","100%"),r.add(()=>window.scrollTo(0,n))}return r.dispose},[l,e])}function ve(l,e){return(0,match.Y)(e.type,Ae,l,e)}dialog_M.displayName="DialogContext";let Ce=render.O5.RenderStrategy|render.O5.Static,Se=(0,render.FX)(function(e,r){let{open:t,onClose:o,initialFocus:a,__demoMode:s=!1,...p}=e,[n,d]=(0,react.useState)(0),m=(0,open_closed.O_)();void 0===t&&null!==m&&(t=(0,match.Y)(m,{[open_closed.Uw.Open]:!0,[open_closed.Uw.Closed]:!1}));let i=(0,react.useRef)(new Set),T=(0,react.useRef)(null),K=(0,use_sync_refs.P)(T,r),W=(0,react.useRef)(null),P=(0,use_owner.g)(T),B=e.hasOwnProperty("open")||null!==m,G=e.hasOwnProperty("onClose");if(!B&&!G)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!B)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!G)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof t)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t}`);if("function"!=typeof o)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let u=t?0:1,[y,q]=(0,react.useReducer)(ve,{titleId:null,descriptionId:null,panelRef:(0,react.createRef)()}),h=(0,use_event._)(()=>o(!1)),U=(0,use_event._)(f=>q({type:0,id:f})),_=!!(0,use_server_handoff_complete.g)()&&(!s&&0===u),w=n>1,z=null!==(0,react.useContext)(dialog_M),J=w?"parent":"leaf";M(T,!!w&&_),(0,use_outside_click.j)(()=>{var R,g;return[...Array.from(null!=(R=null==P?void 0:P.querySelectorAll("body > *, [data-headlessui-portal]"))?R:[]).filter(D=>!(!(D instanceof HTMLElement)||D.contains(W.current)||y.panelRef.current&&D.contains(y.panelRef.current))),null!=(g=y.panelRef.current)?g:T.current]},h,_&&!w),E(null==P?void 0:P.defaultView,"keydown",f=>{f.defaultPrevented||f.key===keyboard.D.Escape&&0===u&&(w||(f.preventDefault(),f.stopPropagation(),h()))}),Ee(P,0===u&&!z),(0,react.useEffect)(()=>{if(0!==u||!T.current)return;let f=new IntersectionObserver(R=>{for(let g of R)0===g.boundingClientRect.x&&0===g.boundingClientRect.y&&0===g.boundingClientRect.width&&0===g.boundingClientRect.height&&h()});return f.observe(T.current),()=>f.disconnect()},[u,T,h]);let[Q,X]=(0,description.r)(),Z=`headlessui-dialog-${(0,use_id.B)()}`,ee=(0,react.useMemo)(()=>[{dialogState:u,close:h,setTitleId:U},y],[u,y,h,U]),$=(0,react.useMemo)(()=>({open:0===u}),[u]),te={ref:K,id:Z,role:"dialog","aria-modal":0===u||void 0,"aria-labelledby":y.titleId,"aria-describedby":Q};return react.createElement(stack_context_M,{type:"Dialog",enabled:0===u,element:T,onUpdate:(0,use_event._)((f,R,g)=>{"Dialog"===R&&(0,match.Y)(f,{[stack_context_s.Add](){i.current.add(g),d(D=>D+1)},[stack_context_s.Remove](){i.current.add(g),d(D=>D-1)}})})},react.createElement(portal_force_root_P,{force:!0},react.createElement(portal_$,null,react.createElement(dialog_M.Provider,{value:ee},react.createElement(portal_$.Group,{target:T},react.createElement(portal_force_root_P,{force:!1},react.createElement(X,{slot:$,name:"Dialog.Description"},react.createElement(fe,{initialFocus:a,containers:i,features:_?(0,match.Y)(J,{parent:fe.features.RestoreFocus,leaf:fe.features.All&~fe.features.FocusLock}):fe.features.None},(0,render.XX)({ourProps:te,theirProps:p,slot:$,defaultTag:"div",features:Ce,visible:0===u,name:"Dialog"})))))))),react.createElement(internal_hidden.j,{features:internal_hidden.O.Hidden,ref:W}))}),we=(0,render.FX)(function(e,r){let[{dialogState:t,close:o}]=L("Dialog.Overlay"),a=(0,use_sync_refs.P)(r),s=`headlessui-dialog-overlay-${(0,use_id.B)()}`,p=(0,use_event._)(i=>{if(i.target===i.currentTarget){if((0,bugs.l)(i.currentTarget))return i.preventDefault();i.preventDefault(),i.stopPropagation(),o()}}),n=(0,react.useMemo)(()=>({open:0===t}),[t]);return(0,render.XX)({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:p},theirProps:e,slot:n,defaultTag:"div",name:"Dialog.Overlay"})}),ke=(0,render.FX)(function(e,r){let[{dialogState:t},o]=L("Dialog.Backdrop"),a=(0,use_sync_refs.P)(r),s=`headlessui-dialog-backdrop-${(0,use_id.B)()}`;(0,react.useEffect)(()=>{if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let p=(0,react.useMemo)(()=>({open:0===t}),[t]);return react.createElement(portal_force_root_P,{force:!0},react.createElement(portal_$,null,(0,render.XX)({ourProps:{ref:a,id:s,"aria-hidden":!0},theirProps:e,slot:p,defaultTag:"div",name:"Dialog.Backdrop"})))}),_e=(0,render.FX)(function(e,r){let[{dialogState:t},o]=L("Dialog.Panel"),a=(0,use_sync_refs.P)(r,o.panelRef),s=`headlessui-dialog-panel-${(0,use_id.B)()}`,p=(0,react.useMemo)(()=>({open:0===t}),[t]),n=(0,use_event._)(i=>{i.stopPropagation()});return(0,render.XX)({ourProps:{ref:a,id:s,onClick:n},theirProps:e,slot:p,defaultTag:"div",name:"Dialog.Panel"})}),Ie=(0,render.FX)(function(e,r){let[{dialogState:t,setTitleId:o}]=L("Dialog.Title"),a=`headlessui-dialog-title-${(0,use_id.B)()}`,s=(0,use_sync_refs.P)(r);(0,react.useEffect)(()=>(o(a),()=>o(null)),[a,o]);let p=(0,react.useMemo)(()=>({open:0===t}),[t]);return(0,render.XX)({ourProps:{ref:s,id:a},theirProps:e,slot:p,defaultTag:"h2",name:"Dialog.Title"})}),gt=Object.assign(Se,{Backdrop:ke,Panel:_e,Overlay:we,Title:Ie,Description:description.V})},"./node_modules/@headlessui/react/dist/hooks/use-owner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>n});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_owner_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@headlessui/react/dist/utils/owner.js");function n(...e){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_utils_owner_js__WEBPACK_IMPORTED_MODULE_1__.T)(...e),[...e])}},"./src/components/ChatInputs/ChatInputs.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ContinuousSpeech:()=>ContinuousSpeech,ContinuousSpeechListening:()=>ContinuousSpeechListening,Default:()=>Default,Disabled:()=>Disabled,Instruct:()=>Instruct,InstructAcceptingMedia:()=>InstructAcceptingMedia,WithLongText:()=>WithLongText,WithUploadButton:()=>WithUploadButton,WithValue:()=>WithValue,WithoutMicrophone:()=>WithoutMicrophone,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ChatInputs_stories});var react=__webpack_require__("./node_modules/react/index.js"),ChatInputs=__webpack_require__("./src/components/ChatInputs/ChatInputs.tsx"),I18nWrapper=__webpack_require__("./src/I18nWrapper.tsx"),data=__webpack_require__("./src/mocks/data.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ChatInputs_ChatInputs=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/ChatInputs/ChatInputs.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ChatInputs_ChatInputs.A,options);ChatInputs_ChatInputs.A&&ChatInputs_ChatInputs.A.locals&&ChatInputs_ChatInputs.A.locals;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChatInputs_stories={title:"Widget/Chat inputs (footer)",component:ChatInputs.A,argTypes:{disabled:{control:{type:"boolean"}}},parameters:{controls:{expanded:!0}}},ChatInputs_stories_text="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".split(" ").reverse(),Template=args=>{const[userMessage,setUserMessage]=react.useState(args.userMessage),[listening,setListening]=react.useState(args.listening);return(0,react.useEffect)(()=>{if(listening){const interval=setInterval(()=>{let nextWord=ChatInputs_stories_text.pop();nextWord?setUserMessage(prev=>`${prev||""}${prev?" ":""}${nextWord}`):clearInterval(interval)},500*Math.random()+100);return()=>clearInterval(interval)}},[listening]),(0,jsx_runtime.jsx)(I18nWrapper.A,{children:(0,jsx_runtime.jsx)("div",{style:{paddingTop:"10rem"},children:(0,jsx_runtime.jsx)(ChatInputs.A,{...args,listening,startListening:()=>setListening(!0),stopListening:()=>setListening(!1),userMessage,onChangeUserMessage:setUserMessage})})})};Template.displayName="Template";const Default=Template.bind({});Default.args={userMessage:"",dialogState:data.qf,sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0};const WithValue=Template.bind({});WithValue.args={userMessage:"Suspendisse sit amet volutpat velit.",dialogState:data.qf,sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0};const WithLongText=Template.bind({});WithLongText.args={userMessage:"Suspendisse sit amet volutpat velit. Nunc at commodo tortor, id rutrum nunc. Vivamus condimentum vel nunc et congue. Ut laoreet imperdiet nisi ac finibus. Suspendisse molestie risus a justo sagittis efficitur. Suspendisse sit amet volutpat velit. Nunc at commodo tortor, id rutrum nunc. Vivamus condimentum vel nunc et congue. Ut laoreet imperdiet nisi ac finibus. Suspendisse molestie risus a justo sagittis efficitur.",dialogState:data.qf,sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0};const Instruct=Template.bind({});Instruct.args={instruct:!0,userMessage:"Suspendisse sit amet volutpat velit.",dialogState:{...data.qf,acceptsMedia:!1},sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0};const InstructAcceptingMedia=Template.bind({});InstructAcceptingMedia.args={instruct:!0,userMessage:"Suspendisse sit amet volutpat velit.",dialogState:{...data.qf,acceptsMedia:!0},sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0,authToken:"123"};const Disabled=Template.bind({});Disabled.args={dialogState:{...data.qf,state:"X3"},userMessage:"Suspendisse sit amet volutpat velit.",sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0};const ContinuousSpeech=Template.bind({});ContinuousSpeech.args={dialogState:data.qf,userMessage:"Suspendisse sit amet volutpat velit.",sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!1,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0,microphoneMode:"CONTINUOUS"};const ContinuousSpeechListening=Template.bind({});ContinuousSpeechListening.args={dialogState:data.qf,userMessage:"Suspendisse sit amet volutpat velit.",sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!0,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!0,microphoneMode:"CONTINUOUS"};const WithUploadButton=Template.bind({});WithUploadButton.args={showUpload:!0};const WithoutMicrophone=Template.bind({});WithoutMicrophone.args={dialogState:data.qf,userMessage:"Suspendisse sit amet volutpat velit.",sendMessage:msg=>console.log(msg),onTextareaBlur:()=>{},onTextareaFocus:()=>{},onTextareaPressEnter:()=>{},setAttachmentsMenuOpen:()=>{},setSendOnEnter:()=>{},listening:!0,isPlayingAudio:!1,stopAudio:()=>{},startListening:()=>{},stopListening:()=>{},showMicrophone:!1},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...Default.parameters?.docs?.source}}},WithValue.parameters={...WithValue.parameters,docs:{...WithValue.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...WithValue.parameters?.docs?.source}}},WithLongText.parameters={...WithLongText.parameters,docs:{...WithLongText.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...WithLongText.parameters?.docs?.source}}},Instruct.parameters={...Instruct.parameters,docs:{...Instruct.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...Instruct.parameters?.docs?.source}}},InstructAcceptingMedia.parameters={...InstructAcceptingMedia.parameters,docs:{...InstructAcceptingMedia.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...InstructAcceptingMedia.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...Disabled.parameters?.docs?.source}}},ContinuousSpeech.parameters={...ContinuousSpeech.parameters,docs:{...ContinuousSpeech.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...ContinuousSpeech.parameters?.docs?.source}}},ContinuousSpeechListening.parameters={...ContinuousSpeechListening.parameters,docs:{...ContinuousSpeechListening.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...ContinuousSpeechListening.parameters?.docs?.source}}},WithUploadButton.parameters={...WithUploadButton.parameters,docs:{...WithUploadButton.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...WithUploadButton.parameters?.docs?.source}}},WithoutMicrophone.parameters={...WithoutMicrophone.parameters,docs:{...WithoutMicrophone.parameters?.docs,source:{originalSource:"args => {\n  const [userMessage, setUserMessage] = React.useState(args.userMessage);\n  const [listening, setListening] = React.useState(args.listening);\n  const startListening = () => setListening(true);\n  const stopListening = () => setListening(false);\n  useEffect(() => {\n    if (listening) {\n      const interval = setInterval(() => {\n        let nextWord = text.pop();\n        if (!nextWord) {\n          clearInterval(interval);\n          return;\n        }\n        setUserMessage(prev => `${prev || ''}${prev ? ' ' : ''}${nextWord}`);\n      }, Math.random() * 500 + 100);\n      return () => clearInterval(interval);\n    }\n  }, [listening]);\n  return <I18nWrapper>\n      <div style={{\n      paddingTop: '10rem'\n    }}>\n        <ChatInputs {...args} listening={listening} startListening={startListening} stopListening={stopListening} userMessage={userMessage} onChangeUserMessage={setUserMessage} />\n      </div>\n    </I18nWrapper>;\n}",...WithoutMicrophone.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithValue","WithLongText","Instruct","InstructAcceptingMedia","Disabled","ContinuousSpeech","ContinuousSpeechListening","WithUploadButton","WithoutMicrophone"]},"./src/components/ChatInputs/ChatInputs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ChatTextArea_ChatTextArea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/ChatTextArea/ChatTextArea.tsx"),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_icons_Send__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/Send.tsx"),_MicrophoneButton_MicrophoneButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/MicrophoneButton/MicrophoneButton.tsx"),classnames__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__),_icons_Microphone__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/icons/Microphone.tsx"),_UploadButton_UploadButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/UploadButton/UploadButton.tsx"),_FilePreview_FilePreview__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/FilePreview/FilePreview.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChatInputs=({dialogState,userMessage="",sendOnEnter,onChangeUserMessage,sendMessage,onTextareaFocus,onTextareaBlur,showMicrophone=!1,microphoneMode="HOLD_TO_TALK",listening=!1,stopAudio,startListening,stopListening,showUpload=!1,sessionID,authToken,memoriID,client})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.B)(),[documentPreviewFiles,setDocumentPreviewFiles]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),{dialog}=client||{dialog:{postMediumDeselectedEvent:null}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("fieldset",{id:"chat-fieldset",className:"memori-chat-inputs",disabled:"X2a"===dialogState?.state||"X3"===dialogState?.state,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ChatTextArea_ChatTextArea__WEBPACK_IMPORTED_MODULE_1__.A,{value:userMessage,onChange:onChangeUserMessage,onPressEnter:()=>{if("keypress"===sendOnEnter&&userMessage?.length>0){stopListening();const mediaWithIds=documentPreviewFiles.map((file,index)=>({mediumID:file.mediumID||`file_${Date.now()}_${index}_${Math.random().toString(36).substr(2,9)}`,mimeType:file.mimeType,content:file.content,title:file.name,properties:{isAttachedFile:!0},type:file.type,url:file.url}));sendMessage(userMessage,mediaWithIds),setDocumentPreviewFiles([]),onChangeUserMessage("")}},onFocus:onTextareaFocus,onBlur:onTextareaBlur,disabled:["R2","R3","R4","R5","G3","X3"].includes(dialogState?.state||"")}),showUpload&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_FilePreview_FilePreview__WEBPACK_IMPORTED_MODULE_9__.A,{previewFiles:documentPreviewFiles,removeFile:async(fileId,mediumID)=>{dialog.postMediumDeselectedEvent&&sessionID&&mediumID&&await dialog.postMediumDeselectedEvent(sessionID,mediumID),setDocumentPreviewFiles(prev=>prev.filter(file=>file.id!==fileId))}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_UploadButton_UploadButton__WEBPACK_IMPORTED_MODULE_8__.A,{authToken,client,sessionID,isMediaAccepted:dialogState?.acceptsMedia||!1,setDocumentPreviewFiles,documentPreviewFiles,memoriID})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.A,{shape:"circle",primary:!!userMessage?.length,disabled:!userMessage||0===userMessage.length,className:"memori-chat-inputs--send",onClick:()=>{(files=>{const mediaWithIds=files.map((file,index)=>({mediumID:file.mediumID||`file_${Date.now()}_${index}_${Math.random().toString(36).substr(2,9)}`,mimeType:file.mimeType,content:file.content,title:file.name,properties:{isAttachedFile:!0},type:file.type,url:file.url}));sendMessage(userMessage,mediaWithIds),setDocumentPreviewFiles([]),stopAudio(),speechSynthesis.speak(new SpeechSynthesisUtterance(""))})(documentPreviewFiles)},title:t("send")||"Send",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_icons_Send__WEBPACK_IMPORTED_MODULE_4__.default,{})}),showMicrophone&&"HOLD_TO_TALK"===microphoneMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_MicrophoneButton_MicrophoneButton__WEBPACK_IMPORTED_MODULE_5__.A,{listening,startListening,stopListening:()=>{stopListening(),userMessage?.length&&sendMessage(userMessage)},stopAudio}),showMicrophone&&"CONTINUOUS"===microphoneMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.A,{primary:!0,className:classnames__WEBPACK_IMPORTED_MODULE_6___default()("memori-chat-inputs--mic",{"memori-chat-inputs--mic--listening":listening}),title:listening?t("write_and_speak.micButtonPopoverListening")||"Listening":t("write_and_speak.micButtonPopover")||"Start listening",onClick:()=>{listening?stopListening():(stopAudio(),startListening())},shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_icons_Microphone__WEBPACK_IMPORTED_MODULE_7__.default,{})})]})};ChatInputs.displayName="ChatInputs";const __WEBPACK_DEFAULT_EXPORT__=ChatInputs;try{ChatInputs.displayName="ChatInputs",ChatInputs.__docgenInfo={description:"",displayName:"ChatInputs",props:{dialogState:{defaultValue:null,description:"",name:"dialogState",required:!1,type:{name:"DialogState"}},instruct:{defaultValue:null,description:"",name:"instruct",required:!1,type:{name:"boolean"}},sendOnEnter:{defaultValue:null,description:"",name:"sendOnEnter",required:!1,type:{name:"enum",value:[{value:'"keypress"'},{value:'"click"'}]}},setSendOnEnter:{defaultValue:null,description:"",name:"setSendOnEnter",required:!0,type:{name:'(sendOnEnter: "keypress" | "click") => void'}},attachmentsMenuOpen:{defaultValue:null,description:"",name:"attachmentsMenuOpen",required:!1,type:{name:"enum",value:[{value:'"link"'},{value:'"media"'}]}},setAttachmentsMenuOpen:{defaultValue:null,description:"",name:"setAttachmentsMenuOpen",required:!0,type:{name:'(attachmentsMenuOpen: "link" | "media") => void'}},userMessage:{defaultValue:{value:""},description:"",name:"userMessage",required:!1,type:{name:"string"}},onChangeUserMessage:{defaultValue:null,description:"",name:"onChangeUserMessage",required:!0,type:{name:"(userMessage: string) => void"}},sendMessage:{defaultValue:null,description:"",name:"sendMessage",required:!0,type:{name:"(msg: string, media?: (Medium & { type: string; })[] | undefined) => void"}},onTextareaFocus:{defaultValue:null,description:"",name:"onTextareaFocus",required:!0,type:{name:"() => void"}},onTextareaBlur:{defaultValue:null,description:"",name:"onTextareaBlur",required:!0,type:{name:"() => void"}},listening:{defaultValue:{value:"false"},description:"",name:"listening",required:!1,type:{name:"boolean"}},isPlayingAudio:{defaultValue:null,description:"",name:"isPlayingAudio",required:!1,type:{name:"boolean"}},stopAudio:{defaultValue:null,description:"",name:"stopAudio",required:!0,type:{name:"() => void"}},startListening:{defaultValue:null,description:"",name:"startListening",required:!0,type:{name:"() => void"}},stopListening:{defaultValue:null,description:"",name:"stopListening",required:!0,type:{name:"() => void"}},showMicrophone:{defaultValue:{value:"false"},description:"",name:"showMicrophone",required:!1,type:{name:"boolean"}},microphoneMode:{defaultValue:{value:"HOLD_TO_TALK"},description:"",name:"microphoneMode",required:!1,type:{name:"enum",value:[{value:'"HOLD_TO_TALK"'},{value:'"CONTINUOUS"'}]}},authToken:{defaultValue:null,description:"",name:"authToken",required:!1,type:{name:"string"}},showUpload:{defaultValue:{value:"false"},description:"",name:"showUpload",required:!1,type:{name:"boolean"}},sessionID:{defaultValue:null,description:"",name:"sessionID",required:!1,type:{name:"string"}},memoriID:{defaultValue:null,description:"",name:"memoriID",required:!1,type:{name:"string"}},client:{defaultValue:null,description:"",name:"client",required:!1,type:{name:'{ constants: { BACKEND_URL: string; ENGINE_URL: string; allowedMediaTypes: string[]; anonTag: "👤"; }; asset: { getResourceUrl: ({ type, resourceURI, sessionID, baseURL, }: ResourceURLParams) => string; }; getAllFunctions: (sessionId: string) => Promise<...>; ... 137 more ...; backend: { ...; }; }'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatInputs/ChatInputs.tsx#ChatInputs"]={docgenInfo:ChatInputs.__docgenInfo,name:"ChatInputs",path:"src/components/ChatInputs/ChatInputs.tsx#ChatInputs"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ChatTextArea/ChatTextArea.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Expand__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Expand.tsx"),_icons_FullscreenExit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/FullscreenExit.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ChatTextArea=({disabled=!1,value,onChange,onPressEnter,onFocus,onBlur})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.B)(),[expanded,setExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{"data-testid":"chat-textarea",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat-textarea",{"memori-chat-textarea--expanded":expanded,"memori-chat-textarea--disabled":disabled}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"memori-chat-textarea--inner",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("textarea",{className:"memori-chat-textarea--input",disabled,value,onChange:e=>{onChange(e.target.value)},onKeyDownCapture:e=>{"Enter"===e.key&&!e.shiftKey&&onPressEnter&&onPressEnter(e)},onFocus,onBlur,maxLength:1e5}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"memori-chat-textarea--expand",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.A,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-chat-textarea--expand-button"),onClick:()=>setExpanded(!expanded),padded:!1,ghost:!0,title:expanded?t("collapse")||"Collapse":t("expand")||"Expand",icon:expanded?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_icons_FullscreenExit__WEBPACK_IMPORTED_MODULE_4__.default,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_icons_Expand__WEBPACK_IMPORTED_MODULE_3__.default,{})})})]})})};ChatTextArea.displayName="ChatTextArea";const __WEBPACK_DEFAULT_EXPORT__=ChatTextArea;try{ChatTextArea.displayName="ChatTextArea",ChatTextArea.__docgenInfo={description:"",displayName:"ChatTextArea",props:{disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onPressEnter:{defaultValue:null,description:"",name:"onPressEnter",required:!1,type:{name:"((e: KeyboardEvent<HTMLTextAreaElement>) => void)"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: FocusEvent<Element, Element>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChatTextArea/ChatTextArea.tsx#ChatTextArea"]={docgenInfo:ChatTextArea.__docgenInfo,name:"ChatTextArea",path:"src/components/ChatTextArea/ChatTextArea.tsx#ChatTextArea"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/MicrophoneButton/MicrophoneButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_icons_Microphone__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/icons/Microphone.tsx"),_ui_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/Button.tsx"),_ui_Tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/Tooltip.tsx"),classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js");const MicrophoneButton=({listening,stopAudio,startListening,stopListening})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.B)(),[micBtnTooltip,setMicBtnTooltip]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),intervalRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),startHold=e=>{e.preventDefault(),e.stopPropagation(),setMicBtnTooltip(t("write_and_speak.holdToSpeak")||"Hold to record"),intervalRef.current||(intervalRef.current=setTimeout(()=>{stopAudio(),setMicBtnTooltip(t("write_and_speak.releaseToEndListening")||"Release to end listening"),startListening()},300))},stopHold=e=>{e&&(e.preventDefault(),e.stopPropagation()),intervalRef.current&&(clearTimeout(intervalRef.current),intervalRef.current=null),stopListening(),setMicBtnTooltip(void 0)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>stopHold(),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ui_Tooltip__WEBPACK_IMPORTED_MODULE_3__.A,{visible:!!micBtnTooltip,content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:micBtnTooltip||t("write_and_speak.pressAndHoldToSpeak")||"Press and hold to speak"}),align:"topLeft",className:"memori-mic-btn-tooltip",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__.A,{primary:!0,className:classnames__WEBPACK_IMPORTED_MODULE_4___default()("memori-chat-inputs--mic",{"memori-chat-inputs--mic--listening":listening}),title:listening?t("write_and_speak.micButtonPopoverListening")||"Listening":t("write_and_speak.micButtonPopover")||"Start listening",onMouseDown:startHold,onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),startHold(e)},onMouseUp:stopHold,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),stopHold(e)},onMouseLeave:stopHold,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_icons_Microphone__WEBPACK_IMPORTED_MODULE_1__.default,{})})})})};MicrophoneButton.displayName="MicrophoneButton";const __WEBPACK_DEFAULT_EXPORT__=MicrophoneButton;try{MicrophoneButton.displayName="MicrophoneButton",MicrophoneButton.__docgenInfo={description:"",displayName:"MicrophoneButton",props:{listening:{defaultValue:null,description:"",name:"listening",required:!1,type:{name:"boolean"}},stopAudio:{defaultValue:null,description:"",name:"stopAudio",required:!0,type:{name:"() => void"}},startListening:{defaultValue:null,description:"",name:"startListening",required:!0,type:{name:"() => void"}},stopListening:{defaultValue:null,description:"",name:"stopListening",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MicrophoneButton/MicrophoneButton.tsx#MicrophoneButton"]={docgenInfo:MicrophoneButton.__docgenInfo,name:"MicrophoneButton",path:"src/components/MicrophoneButton/MicrophoneButton.tsx#MicrophoneButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Close.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Close=({className,title,bold=!1})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z",strokeWidth:bold?2:0,stroke:bold?"currentColor":"none",fill:bold?"none":"currentColor"})});Close.displayName="Close";const __WEBPACK_DEFAULT_EXPORT__=Close;try{Close.displayName="Close",Close.__docgenInfo={description:"",displayName:"Close",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},bold:{defaultValue:{value:"false"},description:"",name:"bold",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Close.tsx#Close"]={docgenInfo:Close.__docgenInfo,name:"Close",path:"src/components/icons/Close.tsx#Close"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Expand.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Expand=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 0 0 0 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0 0 13.5-4.7L863.9 169a7.9 7.9 0 0 0-8.9-8.9zM416.6 562.3a8.03 8.03 0 0 0-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 0 0-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"})});Expand.displayName="Expand";const __WEBPACK_DEFAULT_EXPORT__=Expand;try{Expand.displayName="Expand",Expand.__docgenInfo={description:"",displayName:"Expand",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Expand.tsx#Expand"]={docgenInfo:Expand.__docgenInfo,name:"Expand",path:"src/components/icons/Expand.tsx#Expand"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/FullscreenExit.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const FullscreenExit=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 0 0-11.3 0l-42.4 42.3a8.03 8.03 0 0 0 0 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 0 0 4.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 0 0 0 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 0 0 391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 0 0-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 0 0-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 0 0-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"})});FullscreenExit.displayName="FullscreenExit";const __WEBPACK_DEFAULT_EXPORT__=FullscreenExit;try{FullscreenExit.displayName="FullscreenExit",FullscreenExit.__docgenInfo={description:"",displayName:"FullscreenExit",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/FullscreenExit.tsx#FullscreenExit"]={docgenInfo:FullscreenExit.__docgenInfo,name:"FullscreenExit",path:"src/components/icons/FullscreenExit.tsx#FullscreenExit"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Microphone.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Microphone=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"})});Microphone.displayName="Microphone";const __WEBPACK_DEFAULT_EXPORT__=Microphone;try{Microphone.displayName="Microphone",Microphone.__docgenInfo={description:"",displayName:"Microphone",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Microphone.tsx#Microphone"]={docgenInfo:Microphone.__docgenInfo,name:"Microphone",path:"src/components/icons/Microphone.tsx#Microphone"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Send.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Send=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"})});Send.displayName="Send";const __WEBPACK_DEFAULT_EXPORT__=Send;try{Send.displayName="Send",Send.__docgenInfo={description:"",displayName:"Send",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Send.tsx#Send"]={docgenInfo:Send.__docgenInfo,name:"Send",path:"src/components/icons/Send.tsx#Send"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@headlessui/react/dist/components/dialog/dialog.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@headlessui/react/dist/components/transitions/transition.js"),_Spin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/Spin.tsx"),_Button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/Button.tsx"),_icons_Close__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/icons/Close.tsx"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),classnames__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Modal=({open=!1,onClose,className,title,description,children,footer,loading=!1,closable=!0,width="100%",widthMd="100%"})=>{const{t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.B)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__.e,{appear:!0,show:open,as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.l,{open,onClose,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()("memori-modal",className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__.e.Child,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"memori-modal--backdrop"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"memori-modal--container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"memori-modal--container-scrollable",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_2__.e.Child,{as:react__WEBPACK_IMPORTED_MODULE_0__.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.l.Panel,{className:"memori-modal--panel",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("style",{dangerouslySetInnerHTML:{__html:`\n                    .memori-modal--panel {\n                      --memori-modal--width: ${width};\n                      --memori-modal--width-md: ${widthMd};\n                    }\n                  `}}),closable&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"memori-modal--close",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_4__.A,{ghost:!0,padded:!0,shape:"circle",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_icons_Close__WEBPACK_IMPORTED_MODULE_5__.default,{}),title:t("close")||"Close",onClick:()=>onClose(!1)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_Spin__WEBPACK_IMPORTED_MODULE_3__.A,{spinning:loading,children:[title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.l.Title,{className:"memori-modal--title",children:title}),description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.l.Description,{className:"memori-modal--description",children:description}),children,footer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"memori-modal--footer",children:footer})]})]})})})})]})})};Modal.displayName="Modal";const __WEBPACK_DEFAULT_EXPORT__=Modal;try{Modal.displayName="Modal",Modal.__docgenInfo={description:"",displayName:"Modal",props:{open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(value: boolean) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"Element | ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"Element | ReactNode"}},footer:{defaultValue:null,description:"",name:"footer",required:!1,type:{name:"Element | ReactNode"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},closable:{defaultValue:{value:"true"},description:"",name:"closable",required:!1,type:{name:"boolean"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},widthMd:{defaultValue:{value:"100%"},description:"",name:"widthMd",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Modal.tsx#Modal"]={docgenInfo:Modal.__docgenInfo,name:"Modal",path:"src/components/ui/Modal.tsx#Modal"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Spin.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_icons_Loading__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/Loading.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Spin=({spinning=!1,primary=!1,className,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-spin",className,{"memori-spin--spinning":spinning,"memori-spin--primary":primary}),children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"memori-spin--spinner",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons_Loading__WEBPACK_IMPORTED_MODULE_2__.default,{loading:!0})})]});Spin.displayName="Spin";const __WEBPACK_DEFAULT_EXPORT__=Spin;try{Spin.displayName="Spin",Spin.__docgenInfo={description:"",displayName:"Spin",props:{spinning:{defaultValue:{value:"false"},description:"",name:"spinning",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},primary:{defaultValue:{value:"false"},description:"",name:"primary",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Spin.tsx#Spin"]={docgenInfo:Spin.__docgenInfo,name:"Spin",path:"src/components/ui/Spin.tsx#Spin"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ui/Tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Tooltip=({content,className,align="right",disabled=!1,visible=!1,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("memori-tooltip",`memori-tooltip--align-${align}`,className,{"memori-tooltip--disabled":disabled,"memori-tooltip--visible":visible}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"memori-tooltip--content",children:content}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"memori-tooltip--trigger",children})]});Tooltip.displayName="Tooltip";const __WEBPACK_DEFAULT_EXPORT__=Tooltip;try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",displayName:"Tooltip",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"Element | ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"topLeft"'},{value:'"topRight"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ui/Tooltip.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"src/components/ui/Tooltip.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MAX_DOCUMENTS_PER_MESSAGE:()=>MAX_DOCUMENTS_PER_MESSAGE,MAX_DOCUMENT_CONTENT_LENGTH:()=>MAX_DOCUMENT_CONTENT_LENGTH,MAX_MSG_CHARS:()=>MAX_MSG_CHARS,MAX_MSG_WORDS:()=>MAX_MSG_WORDS,allowedMediaTypes:()=>allowedMediaTypes,anonTag:()=>anonTag,boardOfExpertsLoadingSentences:()=>boardOfExpertsLoadingSentences,chatLanguages:()=>chatLanguages,getGroupedChatLanguages:()=>getGroupedChatLanguages,popularLanguageCodes:()=>popularLanguageCodes,prismSyntaxLangs:()=>prismSyntaxLangs,uiLanguages:()=>uiLanguages});const chatLanguages=[{value:"IT",label:"Italiano"},{value:"EN",label:"English"},{value:"DE",label:"Deutsch"},{value:"ES",label:"Español"},{value:"FR",label:"Français"},{value:"PT",label:"Português"},{value:"NL",label:"Nederlands"},{value:"SV",label:"Svenska"},{value:"DA",label:"Dansk"},{value:"FI",label:"Suomi"},{value:"ET",label:"Eesti keel"},{value:"LT",label:"Lietuvių kalba"},{value:"HU",label:"Magyar"},{value:"RO",label:"Română"},{value:"BG",label:"български"},{value:"HR",label:"Hrvatski"},{value:"CS",label:"Čeština / český jazyk"},{value:"SK",label:"Slovenčina"},{value:"SL",label:"Slovenščina"},{value:"LV",label:"Latvian"},{value:"UK",label:"Українська"},{value:"RU",label:"Русский"},{value:"PL",label:"Polski"},{value:"EL",label:"Ελληνικά"},{value:"AR",label:"العربية"},{value:"ZH",label:"中文"},{value:"JA",label:"日本語"}],popularLanguageCodes=["IT","EN","FR","DE","ES","PT"],getGroupedChatLanguages=()=>({popular:chatLanguages.filter(lang=>popularLanguageCodes.includes(lang.value)),all:chatLanguages}),uiLanguages=["en","it","fr","es","de"],allowedMediaTypes=["image/jpeg","image/png","image/jpg","image/gif","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/pdf","video/mp4","video/avi","audio/mpeg3","audio/wav","audio/mpeg","video/mpeg","model/gltf-binary"],anonTag="👤",prismSyntaxLangs=[{name:"text",lang:"text",mimeType:"text/plain",monacoLang:"plaintext",executable:!0},{name:"javascript/jsx",lang:"jsx",mimeType:"text/javascript",monacoLang:"javascript",executable:!0},{name:"typescript/tsx",lang:"tsx",mimeType:"text/ecmascript",monacoLang:"typescript",executable:!0},{name:"json",lang:"json",mimeType:"application/json",monacoLang:"json",executable:!0},{name:"css",lang:"scss",mimeType:"text/css",monacoLang:"css",executable:!0},{name:"html/xml",lang:"tsx",mimeType:"application/xml",monacoLang:"xml"},{name:"bash",lang:"bash",mimeType:"application/x-sh",monacoLang:"shell"},{name:"python",lang:"python",mimeType:"text/x-python",monacoLang:"python"},{name:"cpp/csharp",lang:"cpp",mimeType:"text/x-c++src",monacoLang:"cpp"},{name:"php",lang:"php",mimeType:"application/x-php",monacoLang:"php"},{name:"ruby",lang:"ruby",mimeType:"text/x-ruby",monacoLang:"ruby"},{name:"sql",lang:"sql",mimeType:"text/x-sql",monacoLang:"sql"}],boardOfExpertsLoadingSentences={it:[{text:"",delayAfter:10},{text:"Cerco l'esperto più adatto",delayAfter:5},{text:"Contatto l'esperto",delayAfter:3},{text:"Spiego all'esperto la domanda",delayAfter:2},{text:"L'esperto sta preparando una risposta",delayAfter:6},{text:"Genero una risposta adatta",delayAfter:3}],en:[{text:"",delayAfter:10},{text:"I'm looking for the most suitable expert",delayAfter:5},{text:"I'm contacting the expert",delayAfter:3},{text:"I'm explaining the question to the expert",delayAfter:2},{text:"The expert is preparing an answer",delayAfter:6},{text:"I am generating a suitable answer",delayAfter:3}]},MAX_MSG_CHARS=4e3,MAX_MSG_WORDS=300,MAX_DOCUMENTS_PER_MESSAGE=5,MAX_DOCUMENT_CONTENT_LENGTH=2e5},"./src/helpers/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DN:()=>correctMaterials,GZ:()=>isSkinnedMesh,I2:()=>isSafariIOS,K1:()=>hasTouchscreen,KW:()=>usernameRegEx,Lr:()=>mailRegEx,N8:()=>safeParseJSON,TG:()=>cleanUrl,Vx:()=>stripDuplicates,Zn:()=>escapeHTML,_e:()=>stripHTML,eA:()=>stripMarkdown,f9:()=>stripOutputTags,gI:()=>stripReasoningTags,lA:()=>installMathJax,mo:()=>stripDocumentAttachmentTags,nr:()=>isSafari,o6:()=>stripEmojis,pF:()=>pwdRegEx,xD:()=>useDebounceFn});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),three__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/three/build/three.module.js");const hasTouchscreen=()=>{let hasTouchScreen=!1;if("undefined"==typeof window||"undefined"==typeof navigator)return hasTouchScreen;if("maxTouchPoints"in navigator)hasTouchScreen=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)hasTouchScreen=navigator.msMaxTouchPoints>0;else{const mQ=window&&"matchMedia"in window&&matchMedia("(pointer:coarse)");if(mQ&&"(pointer:coarse)"===mQ.media)hasTouchScreen=!!mQ.matches;else if("orientation"in window)hasTouchScreen=!0;else{var UA=navigator?.userAgent;hasTouchScreen=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA)}}return hasTouchScreen},isSafari=()=>{if("undefined"==typeof navigator)return!1;const userAgent=navigator.userAgent,isSafariUA=userAgent.includes("Safari")&&!userAgent.includes("Chrome"),isWebKit="WebKit"in window&&!("Chrome"in window);return isSafariUA||isWebKit},isSafariIOS=()=>{if("undefined"==typeof navigator)return!1;const userAgent=navigator.userAgent;return userAgent.includes("Safari")&&!userAgent.includes("Chrome")&&/iPad|iPhone|iPod/.test(userAgent)},pwdRegEx=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$_:;|,~+=\{\}\[\]%^&*-]).{8,}$/,mailRegEx=/^\w+([.-]?[+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/,usernameRegEx=/^(?!.*\.\.)(?!.*\.$)[^\W][\w.+-]{2,32}$/;function useDebounceFn(fn,delay){const timeoutId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),originalFn=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(originalFn.current=fn,()=>{originalFn.current=null}),[fn]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>{clearTimeout(timeoutId.current)},[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(...args)=>{clearTimeout(timeoutId.current),timeoutId.current=window.setTimeout(()=>{originalFn.current&&originalFn.current(...args)},delay)},[delay])}const stripDuplicates=text=>text.slice(0,text.length/2).trim().toLowerCase()===text.slice(text.length/2+1).trim().toLowerCase()?text.slice(0,text.length/2):text,stripEmojis=text=>text.replaceAll(/[^\p{L}\p{N}\p{P}\p{Z}^$\n]/gu,"").trim(),stripMarkdown=text=>text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=text.replaceAll(/```*?```/g,"")).replaceAll(/```[\s\S]*?```/g,"")).replaceAll(/`[^`]*`/g,"")).replaceAll(/!\[[^\]]*\]\([^)]*\)/g,"")).replaceAll(/\[([^\]]*)\]\([^)]*\)/g,"$1")).replaceAll(/^> /gm,"")).replaceAll(/^#+ /gm,"")).replaceAll(/[*_]/g,"")).replaceAll(/---/g,"")).replaceAll(/~~/g,"")).replaceAll(/^\s*[-*+] /gm,"")).replaceAll(/^\s*\d+\.\s+/gm,"")).replaceAll(/^\|.*\|$/gm,"")).replaceAll(/\$\$[\s\S]*?\$\$/g,"")).replaceAll(/\$[\s\S]*?\$/g,"")).replaceAll(/\\\([\s\S]*?\\\)/g,"")).replaceAll(/\\\[[\s\S]*?\\\]/g,"")).replaceAll(/\s+/g," ").trim(),stripDocumentAttachmentTags=text=>text.replace(/<document_attachment filename="([^"]+)" type="([^"]+)">([\s\S]*?)<\/document_attachment>/g,"$3"),stripOutputTags=text=>{const outputTagRegex=/<output.*?<\/output>/gs;if(!outputTagRegex.test(text))return text;const strippedText=text.replace(outputTagRegex,"");return stripOutputTags(strippedText)},stripReasoningTags=text=>{const reasoningTagRegex=/<think.*?<\/think>/gs;if(!reasoningTagRegex.test(text))return text;return text.replace(reasoningTagRegex,"")},stripHTML=text=>{const el=document.createElement("div");return el.innerHTML=text,el.textContent||""},escapeHTML=text=>{const el=document.createElement("textarea");return el.textContent=text,el.innerHTML};function cleanUrl(href){try{href=encodeURI(href).replace(/%25/g,"%")}catch(e){return null}return href}const mathJaxConfig={startup:{elements:[".memori-chat--bubble-content"]},options:{processHtmlClass:"memori-chat--bubble-content"},tex:{inlineMath:[["$","$"],["\\$","\\$"]],displayMath:[["$$","$$"]],processEscapes:!0},asciimath:{fixphi:!0,displaystyle:!0,decimalsign:"."},skipStartupTypeset:!0,chtml:{displayAlign:"left"},svg:{fontCache:"global"}},installMathJax=()=>{window.MathJax=mathJaxConfig,(()=>{const script=document.createElement("script");script.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",script.async=!0,script.id="mathjax-script",document.head.appendChild(script)})()};function correctMaterials(materials){Object.values(materials).forEach(material=>{material instanceof three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial&&(material.roughness=.8,material.metalness=.1,material.shadowSide=2,material.map&&(material.map.anisotropy=16))})}function isSkinnedMesh(object){return!0===object.isSkinnedMesh}const safeParseJSON=(jsonString,fallbackString=!1)=>{try{return JSON.parse(jsonString)}catch(error){return fallbackString?jsonString:null}}}}]);