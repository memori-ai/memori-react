"use strict";(self.webpackChunk_memori_ai_memori_react=self.webpackChunk_memori_ai_memori_react||[]).push([[1847],{"./src/components/MemoriArtifactSystem/components/ArtifactActions/utils/PDFExporter.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>pdfExporter});var marked__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/marked/lib/marked.esm.js"),_helpers_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/helpers/utils.ts");class PDFExporter{printWindow=null;static getInstance(){return PDFExporter.instance||(PDFExporter.instance=new PDFExporter),PDFExporter.instance}convertMarkdownToHTML(markdown){return(0,marked__WEBPACK_IMPORTED_MODULE_0__.xI)(markdown)}generatePDFCSS(options={}){const{margin={top:"1in",right:"1in",bottom:"1in",left:"1in"},fontSize="12pt",fontFamily="system-ui, -apple-system, sans-serif",lineHeight="1.6",color="#333",backgroundColor="#fff"}=options;return`\n      <style>\n        @page {\n          margin: ${margin.top} ${margin.right} ${margin.bottom} ${margin.left};\n          size: A4;\n        }\n\n        @media print {\n          * {\n            -webkit-print-color-adjust: exact !important;\n            color-adjust: exact !important;\n          }\n\n          body {\n            font-family: ${fontFamily};\n            font-size: ${fontSize};\n            line-height: ${lineHeight};\n            color: ${color};\n            background-color: ${backgroundColor};\n            margin: 0;\n            padding: 0;\n            max-width: none;\n            word-wrap: break-word;\n            overflow-wrap: break-word;\n          }\n\n          h1, h2, h3, h4, h5, h6 {\n            page-break-after: avoid;\n            margin-top: 1.5em;\n            margin-bottom: 0.5em;\n            font-weight: 600;\n          }\n\n          h1 { font-size: 1.8em; }\n          h2 { font-size: 1.5em; }\n          h3 { font-size: 1.3em; }\n\n          p {\n            margin: 0 0 1em 0;\n            orphans: 3;\n            widows: 3;\n          }\n\n          pre, code {\n            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n            font-size: 0.9em;\n            background-color: #f5f5f5;\n            border: 1px solid #ddd;\n            border-radius: 3px;\n            padding: 0.2em 0.4em;\n            page-break-inside: avoid;\n          }\n\n          pre {\n            padding: 1em;\n            overflow-x: auto;\n            white-space: pre;\n            margin: 1em 0;\n          }\n\n          pre code {\n            background: none;\n            border: none;\n            padding: 0;\n          }\n\n          blockquote {\n            margin: 1em 0;\n            padding-left: 1em;\n            border-left: 3px solid #ddd;\n            font-style: italic;\n            page-break-inside: avoid;\n          }\n\n          ul, ol {\n            margin: 1em 0;\n            padding-left: 2em;\n          }\n\n          li {\n            margin: 0.25em 0;\n            page-break-inside: avoid;\n          }\n\n          table {\n            border-collapse: collapse;\n            width: 100%;\n            margin: 1em 0;\n            page-break-inside: avoid;\n          }\n\n          th, td {\n            border: 1px solid #ddd;\n            padding: 0.5em;\n            text-align: left;\n          }\n\n          th {\n            background-color: #f5f5f5;\n            font-weight: 600;\n          }\n\n          a {\n            color: #0066cc;\n            text-decoration: none;\n          }\n\n          a:hover {\n            text-decoration: underline;\n          }\n\n          img {\n            max-width: 100%;\n            height: auto;\n            page-break-inside: avoid;\n          }\n\n          .page-break {\n            page-break-before: always;\n          }\n\n          .no-print {\n            display: none !important;\n          }\n        }\n\n        @media screen {\n          body {\n            font-family: ${fontFamily};\n            font-size: ${fontSize};\n            line-height: ${lineHeight};\n            color: ${color};\n            background-color: ${backgroundColor};\n            margin: 20px;\n            padding: 20px;\n            max-width: 800px;\n            margin: 0 auto;\n          }\n        }\n      </style>\n    `}createPDFDocument(content,title="Artifact",options={}){const htmlContent=this.convertMarkdownToHTML(content);return`\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>${title}</title>\n        ${this.generatePDFCSS(options)}\n      </head>\n      <body>\n        <div class="content">\n          ${htmlContent}\n        </div>\n      </body>\n      </html>\n    `}async exportAsPDFSafari(content,title="Artifact",options={}){return new Promise((resolve,reject)=>{try{const htmlContent=this.createPDFDocument(content,title,options),printWindow=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");if(!printWindow){const dataUrl=`data:text/html;charset=utf-8,${encodeURIComponent(htmlContent)}`,link=document.createElement("a");return link.href=dataUrl,link.download=`${title}.html`,link.target="_blank",link.style.display="none",document.body.appendChild(link),link.click(),document.body.removeChild(link),void resolve()}printWindow.document.open("text/html","replace"),printWindow.document.write(htmlContent),printWindow.document.close(),printWindow.document.title=title,setTimeout(()=>{try{printWindow.focus(),printWindow.print(),setTimeout(()=>{printWindow&&!printWindow.closed&&printWindow.close(),resolve()},3e3)}catch(printError){if(console.warn("Print failed, trying alternative:",printError),printWindow&&!printWindow.closed){const instructionDiv=printWindow.document.createElement("div");instructionDiv.style.cssText="\n                position: fixed;\n                top: 20px;\n                left: 20px;\n                right: 20px;\n                background: #f0f8ff;\n                border: 2px solid #0066cc;\n                padding: 20px;\n                border-radius: 8px;\n                font-family: system-ui, sans-serif;\n                z-index: 10000;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n              ",instructionDiv.innerHTML='\n                <h3 style="margin: 0 0 10px 0; color: #0066cc;">ðŸ“„ PDF Export Instructions</h3>\n                <p style="margin: 0 0 10px 0;">To save as PDF:</p>\n                <ol style="margin: 0 0 15px 0; padding-left: 20px;">\n                  <li>Press <strong>Cmd+P</strong> (Mac) or <strong>Ctrl+P</strong> (Windows)</li>\n                  <li>In the print dialog, click the "PDF" dropdown</li>\n                  <li>Select "Save as PDF"</li>\n                  <li>Choose your save location and click "Save"</li>\n                </ol>\n                <button onclick="this.parentElement.remove()" style="\n                  background: #0066cc;\n                  color: white;\n                  border: none;\n                  padding: 8px 16px;\n                  border-radius: 4px;\n                  cursor: pointer;\n                ">Got it!</button>\n              ',printWindow.document.body.appendChild(instructionDiv)}resolve()}},1e3)}catch(error){reject(new Error(`Safari PDF export failed: ${error}`))}})}async exportAsPDF(content,title="Artifact",options={}){return(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_1__.nr)()?this.exportAsPDFSafari(content,title,options):new Promise((resolve,reject)=>{try{this.printWindow&&!this.printWindow.closed&&this.printWindow.close();const windowFeatures=(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_1__.I2)()?"width=800,height=600,scrollbars=yes,resizable=yes":"width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,status=no";if(this.printWindow=window.open("","_blank",windowFeatures),!this.printWindow)return void reject(new Error("Popup blocked! Please enable popups to export PDF."));const htmlContent=this.createPDFDocument(content,title,options);(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_1__.nr)()?(this.printWindow.document.open("text/html","replace"),this.printWindow.document.write(htmlContent),this.printWindow.document.close(),setTimeout(()=>{if(this.printWindow&&!this.printWindow.closed)try{this.printWindow.document.title=title,this.printWindow.focus(),this.printWindow.print(),setTimeout(()=>{this.printWindow&&!this.printWindow.closed&&this.printWindow.close(),resolve()},2e3)}catch(printError){console.warn("Print dialog failed, trying alternative method:",printError),this.printWindow.print(),setTimeout(()=>{this.printWindow&&!this.printWindow.closed&&this.printWindow.close(),resolve()},2e3)}},1e3)):(this.printWindow.document.write(htmlContent),this.printWindow.document.close(),this.printWindow.onload=()=>{setTimeout(()=>{this.printWindow&&(this.printWindow.document.title=title,this.printWindow.print(),setTimeout(()=>{this.printWindow&&(this.printWindow.close(),resolve())},1e3))},500)},this.printWindow.onerror=error=>{reject(new Error(`PDF export failed: ${error}`))})}catch(error){reject(new Error(`PDF export failed: ${error}`))}})}isSupported(){return"undefined"!=typeof window&&"function"==typeof window.open}isSafariSupported(){return(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_1__.nr)()&&"undefined"!=typeof window&&"function"==typeof window.open}cleanup(){this.printWindow&&!this.printWindow.closed&&this.printWindow.close(),this.printWindow=null}}const pdfExporter=PDFExporter.getInstance()},"./src/components/ShareButton/ShareButton.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Alignment:()=>Alignment,Default:()=>Default,WithMemoriAndSessionID:()=>WithMemoriAndSessionID,WithMemoriAndSessionIDAndQrCode:()=>WithMemoriAndSessionIDAndQrCode,WithQrCode:()=>WithQrCode,WithQrCodeAndOtherTenant:()=>WithQrCodeAndOtherTenant,WithQrCodeAndTenant:()=>WithQrCodeAndTenant,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ShareButton_stories});__webpack_require__("./node_modules/react/index.js");var I18nWrapper=__webpack_require__("./src/I18nWrapper.tsx"),ShareButton=__webpack_require__("./src/components/ShareButton/ShareButton.tsx"),data=__webpack_require__("./src/mocks/data.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),ShareButton_ShareButton=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[7].use[1]!./src/components/ShareButton/ShareButton.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(ShareButton_ShareButton.A,options);ShareButton_ShareButton.A&&ShareButton_ShareButton.A.locals&&ShareButton_ShareButton.A.locals;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ShareButton_stories={title:"Share Button",component:ShareButton.A,argTypes:{url:{control:{type:"text"}},showQrCode:{control:{type:"boolean"}}},parameters:{controls:{expanded:!0}}},Template=args=>(0,jsx_runtime.jsx)(I18nWrapper.A,{children:(0,jsx_runtime.jsx)(ShareButton.A,{...args})});Template.displayName="Template";const TemplateRight=args=>(0,jsx_runtime.jsx)(I18nWrapper.A,{children:(0,jsx_runtime.jsx)("div",{style:{textAlign:"right"},children:(0,jsx_runtime.jsx)(ShareButton.A,{...args})})});TemplateRight.displayName="TemplateRight";const Default=Template.bind({});Default.args={url:"https://memori.ai",showQrCode:!1,align:"right"};const Alignment=TemplateRight.bind({});Alignment.args={url:"https://memori.ai",align:"left"};const WithQrCode=Template.bind({});WithQrCode.args={url:"https://memori.ai",showQrCode:!0,align:"right"};const WithQrCodeAndTenant=Template.bind({});WithQrCodeAndTenant.args={url:"https://memori.ai",showQrCode:!0,align:"right",tenant:data.j5};const WithQrCodeAndOtherTenant=Template.bind({});WithQrCodeAndOtherTenant.args={url:"https://memori.ai",showQrCode:!0,align:"right",tenant:{...data.j5,theme:"tailoor"}};const WithMemoriAndSessionID=Template.bind({});WithMemoriAndSessionID.args={url:"https://memori.ai",memori:data.mn,sessionID:data.OX,showQrCode:!1};const WithMemoriAndSessionIDAndQrCode=Template.bind({});WithMemoriAndSessionIDAndQrCode.args={url:"https://memori.ai",memori:data.mn,sessionID:data.OX,showQrCode:!0,align:"right"},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <ShareButton {...args} />\n  </I18nWrapper>",...Default.parameters?.docs?.source}}},Alignment.parameters={...Alignment.parameters,docs:{...Alignment.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <div style={{\n    textAlign: 'right'\n  }}>\n      <ShareButton {...args} />\n    </div>\n  </I18nWrapper>",...Alignment.parameters?.docs?.source}}},WithQrCode.parameters={...WithQrCode.parameters,docs:{...WithQrCode.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <ShareButton {...args} />\n  </I18nWrapper>",...WithQrCode.parameters?.docs?.source}}},WithQrCodeAndTenant.parameters={...WithQrCodeAndTenant.parameters,docs:{...WithQrCodeAndTenant.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <ShareButton {...args} />\n  </I18nWrapper>",...WithQrCodeAndTenant.parameters?.docs?.source}}},WithQrCodeAndOtherTenant.parameters={...WithQrCodeAndOtherTenant.parameters,docs:{...WithQrCodeAndOtherTenant.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <ShareButton {...args} />\n  </I18nWrapper>",...WithQrCodeAndOtherTenant.parameters?.docs?.source}}},WithMemoriAndSessionID.parameters={...WithMemoriAndSessionID.parameters,docs:{...WithMemoriAndSessionID.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <ShareButton {...args} />\n  </I18nWrapper>",...WithMemoriAndSessionID.parameters?.docs?.source}}},WithMemoriAndSessionIDAndQrCode.parameters={...WithMemoriAndSessionIDAndQrCode.parameters,docs:{...WithMemoriAndSessionIDAndQrCode.parameters?.docs,source:{originalSource:"args => <I18nWrapper>\n    <ShareButton {...args} />\n  </I18nWrapper>",...WithMemoriAndSessionIDAndQrCode.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Alignment","WithQrCode","WithQrCodeAndTenant","WithQrCodeAndOtherTenant","WithMemoriAndSessionID","WithMemoriAndSessionIDAndQrCode"]},"./src/components/ShareButton/ShareButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),_icons_Facebook__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/icons/Facebook.tsx"),_icons_Twitter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/icons/Twitter.tsx"),_icons_Linkedin__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/icons/Linkedin.tsx"),_icons_WhatsApp__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/icons/WhatsApp.tsx"),_icons_Mail__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/icons/Mail.tsx"),_icons_Link__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/icons/Link.tsx"),_icons_Share__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/icons/Share.tsx"),_icons_Download__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/icons/Download.tsx"),_icons_Telegram__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/icons/Telegram.tsx"),_icons_FilePdf__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/icons/FilePdf.tsx"),qrcode_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/qrcode.react/lib/esm/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@headlessui/react/dist/components/menu/menu.js"),_ui_Button__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/components/ui/Button.tsx"),classnames__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_15__),_MemoriArtifactSystem_components_ArtifactActions_utils_PDFExporter__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/components/MemoriArtifactSystem/components/ArtifactActions/utils/PDFExporter.ts"),react_hot_toast__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs"),_helpers_utils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/helpers/utils.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ShareButton=({tenant,memori,sessionID,url,title="",className,baseUrl,primary=!0,showQrCode=!0,align="right",history=[]})=>{const{t,i18n}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.B)(),[targetUrl,setTargetUrl]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(url),[isExportingPDF,setIsExportingPDF]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),qrImageURL=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>tenant?.theme?`${baseUrl??"https://aisuru.com"}/images/${tenant.theme}/square_logo.png`:`${baseUrl??"https://aisuru.com"}/images/memori_logo.png`,[tenant,baseUrl]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{url||setTargetUrl(window.location.href)},[url]);const socialShare=[{id:"facebook",title:"Facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${targetUrl}`,icon:_icons_Facebook__WEBPACK_IMPORTED_MODULE_2__.default},{id:"twitter",title:"Twitter",url:`https://twitter.com/intent/tweet?url=${targetUrl}`,icon:_icons_Twitter__WEBPACK_IMPORTED_MODULE_3__.default},{id:"linkedin",title:"LinkedIn",url:`https://www.linkedin.com/shareArticle?mini=true&title=${title}&url=${targetUrl}`,icon:_icons_Linkedin__WEBPACK_IMPORTED_MODULE_4__.default},{id:"whatsapp",title:"Whatsapp",url:`https://api.whatsapp.com/send?phone=&text=${targetUrl}`,icon:_icons_WhatsApp__WEBPACK_IMPORTED_MODULE_5__.default},{id:"telegram",title:"Telegram",url:`https://t.me/share/url?text=${title}&url=${targetUrl}`,icon:_icons_Telegram__WEBPACK_IMPORTED_MODULE_10__.default},{id:"email",title:"Email",url:`mailto:?subject=${title?.length>0?title:url}&body=${targetUrl}`,icon:_icons_Mail__WEBPACK_IMPORTED_MODULE_6__.default}],sharedUrl=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{if(memori&&sessionID)return memori.ownerUserID?`${baseUrl??"https://www.aisuru.com"}/${"it"===i18n.language?"it":"en"}/shared/${memori.ownerUserID}/${memori.memoriID}/${sessionID}`:memori.exposed?`${baseUrl??"https://www.aisuru.com"}/${"it"===i18n.language?"it":"en"}/shared/${memori.ownerUserName}/${memori.name}/${sessionID}`:void 0},[memori,sessionID,baseUrl,i18n.language]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W,{as:"div",className:classnames__WEBPACK_IMPORTED_MODULE_15___default()("memori-share-button",{"memori-share-button--align-left":"left"===align}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Button,{className:classnames__WEBPACK_IMPORTED_MODULE_15___default()("memori-button","memori-button--circle","memori-button--icon-only","memori-share-button--button",className,{"memori-button--primary":primary}),title:t("widget.share")||void 0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{className:"memori-button--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_icons_Share__WEBPACK_IMPORTED_MODULE_8__.default,{})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Items,{className:"memori-share-button--overlay",as:"ul",children:[memori&&sessionID&&sharedUrl&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Item,{as:"li",className:"memori-share-button--li memori-share-button--li-shared",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("a",{className:classnames__WEBPACK_IMPORTED_MODULE_15___default()("memori-button","memori-button--with-icon","memori-button--ghost","memori-button--padded","memori-share-button--link"),href:sharedUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{className:"memori-button--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_icons_Share__WEBPACK_IMPORTED_MODULE_8__.default,{})}),t("widget.shareChat")||"Share chat"]})},"shared"),history&&history.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Item,{as:"li",className:"memori-share-button--li",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_14__.A,{className:"memori-share-button--link",ghost:!0,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_icons_FilePdf__WEBPACK_IMPORTED_MODULE_11__.default,{}),onClick:async()=>{if(history&&0!==history.length)if(_MemoriArtifactSystem_components_ArtifactActions_utils_PDFExporter__WEBPACK_IMPORTED_MODULE_16__.q.isSupported()){setIsExportingPDF(!0);try{const pdfTitle=`${memori?.name||"Chat"} - Chat Export`,markdownContent=(messages=>{if(!messages||0===messages.length)return"";const memoriName=memori?.name||"Assistant",conversationTitle=`${memoriName} - Chat Export`,exportDate=new Intl.DateTimeFormat(navigator.language,{dateStyle:"long",timeStyle:"short"}).format(new Date);let markdown=`# ${conversationTitle}\n\n`;return markdown+=`**${t("write_and_speak.conversationStartedLabel")||"Conversation started"}**: ${exportDate}\n\n`,markdown+="---\n\n",messages.forEach((message,index)=>{const timestamp=message.timestamp?new Intl.DateTimeFormat(navigator.language,{dateStyle:"short",timeStyle:"short"}).format(new Date(message.timestamp.endsWith("Z")?message.timestamp:`${message.timestamp}Z`)):"",sender=message.fromUser?"You":memoriName;let messageText=message.text||"";messageText=messageText.replace(/<document_attachment filename="([^"]+)" type="([^"]+)">([\s\S]*?)<\/document_attachment>/g,""),messageText=message.fromUser?messageText.replaceAll(/<think.*?>(.*?)<\/think>/gs,""):(0,_helpers_utils__WEBPACK_IMPORTED_MODULE_18__._e)((0,_helpers_utils__WEBPACK_IMPORTED_MODULE_18__.f9)((0,_helpers_utils__WEBPACK_IMPORTED_MODULE_18__.gI)(messageText))),markdown+=`## ${sender}${timestamp?` - ${timestamp}`:""}\n\n`,messageText.trim()&&(markdown+=`${messageText}\n\n`),message.media&&message.media.length>0&&(message.media.forEach(media=>{media.title?markdown+=`- [${media.title}](${media.url||"#"})\n`:media.url&&(markdown+=`- ${media.url}\n`)}),markdown+="\n"),index<messages.length-1&&(markdown+="---\n\n")}),markdown})(history),pdfOptions={title:pdfTitle,fontSize:"12pt",fontFamily:"system-ui, -apple-system, sans-serif",lineHeight:"1.6",color:"#333",backgroundColor:"#fff"};await _MemoriArtifactSystem_components_ArtifactActions_utils_PDFExporter__WEBPACK_IMPORTED_MODULE_16__.q.exportAsPDF(markdownContent,pdfTitle,pdfOptions),react_hot_toast__WEBPACK_IMPORTED_MODULE_17__.Ay.success(t("exportChatHistory.success")||"Chat exported to PDF successfully")}catch(error){console.error("PDF export error:",error),react_hot_toast__WEBPACK_IMPORTED_MODULE_17__.Ay.error(t("exportChatHistory.error")||"Failed to export chat to PDF. Please try again.")}finally{setIsExportingPDF(!1)}}else react_hot_toast__WEBPACK_IMPORTED_MODULE_17__.Ay.error(t("exportChatHistory.pdfNotSupported")||"PDF export is not supported in this browser");else react_hot_toast__WEBPACK_IMPORTED_MODULE_17__.Ay.error(t("exportChatHistory.empty")||"No chat history to export")},disabled:isExportingPDF,children:isExportingPDF?t("exportChatHistory.exporting")||"Exporting...":t("exportChatHistory.exportPDF")||"Export chat as PDF"})},"export-pdf"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Item,{as:"li",className:"memori-share-button--li",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_14__.A,{className:"memori-share-button--link",ghost:!0,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_icons_Link__WEBPACK_IMPORTED_MODULE_7__.default,{}),onClick:()=>{targetUrl&&navigator.clipboard.writeText(targetUrl)},children:t("copyToClipboard")||void 0})},"copy"),socialShare.map(item=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Item,{as:"li",className:"memori-share-button--li",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("a",{className:classnames__WEBPACK_IMPORTED_MODULE_15___default()("memori-button","memori-button--with-icon","memori-button--ghost","memori-button--padded","memori-share-button--link"),href:item.url??"",target:"_blank",rel:"noopener noreferrer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{className:"memori-button--icon",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(item.icon,{})}),item.title]})},item.id)),showQrCode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.W.Item,{as:"li",className:"memori-share-button--li-qr-code",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(qrcode_react__WEBPACK_IMPORTED_MODULE_12__.Xe,{id:"qr-canvas",value:targetUrl??"",size:128,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!1,imageSettings:{src:qrImageURL,x:void 0,y:void 0,height:32,width:32,excavate:!0}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_ui_Button__WEBPACK_IMPORTED_MODULE_14__.A,{onClick:()=>{const canvas=document.getElementById("qr-canvas");if(!canvas)return;const link=document.createElement("a");link.href=canvas.toDataURL(),link.download=`memori-${title}-share.png`,document.body.appendChild(link),link.click(),document.body.removeChild(link)},icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_icons_Download__WEBPACK_IMPORTED_MODULE_9__.default,{}),title:"Download QR",children:"Download"})})]},"qrcode")]})]})};ShareButton.displayName="ShareButton";const __WEBPACK_DEFAULT_EXPORT__=ShareButton;try{ShareButton.displayName="ShareButton",ShareButton.__docgenInfo={description:"",displayName:"ShareButton",props:{tenant:{defaultValue:null,description:"",name:"tenant",required:!1,type:{name:"Tenant"}},memori:{defaultValue:null,description:"",name:"memori",required:!1,type:{name:"Memori"}},sessionID:{defaultValue:null,description:"",name:"sessionID",required:!1,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},title:{defaultValue:{value:""},description:"",name:"title",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},primary:{defaultValue:{value:"true"},description:"",name:"primary",required:!1,type:{name:"boolean"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!1,type:{name:"string"}},showQrCode:{defaultValue:{value:"true"},description:"",name:"showQrCode",required:!1,type:{name:"boolean"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}},history:{defaultValue:{value:"[]"},description:"",name:"history",required:!1,type:{name:"Message[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ShareButton/ShareButton.tsx#ShareButton"]={docgenInfo:ShareButton.__docgenInfo,name:"ShareButton",path:"src/components/ShareButton/ShareButton.tsx#ShareButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Download.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Download=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})});Download.displayName="Download";const __WEBPACK_DEFAULT_EXPORT__=Download;try{Download.displayName="Download",Download.__docgenInfo={description:"",displayName:"Download",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Download.tsx#Download"]={docgenInfo:Download.__docgenInfo,name:"Download",path:"src/components/icons/Download.tsx#Download"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Facebook.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Facebook=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"})});Facebook.displayName="Facebook";const __WEBPACK_DEFAULT_EXPORT__=Facebook;try{Facebook.displayName="Facebook",Facebook.__docgenInfo={description:"",displayName:"Facebook",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Facebook.tsx#Facebook"]={docgenInfo:Facebook.__docgenInfo,name:"Facebook",path:"src/components/icons/Facebook.tsx#Facebook"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/FilePdf.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const FilePdf=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",focusable:"false",role:"img",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"})});FilePdf.displayName="FilePdf";const __WEBPACK_DEFAULT_EXPORT__=FilePdf;try{FilePdf.displayName="FilePdf",FilePdf.__docgenInfo={description:"",displayName:"FilePdf",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/FilePdf.tsx#FilePdf"]={docgenInfo:FilePdf.__docgenInfo,name:"FilePdf",path:"src/components/icons/FilePdf.tsx#FilePdf"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Link.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Link=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"})});Link.displayName="Link";const __WEBPACK_DEFAULT_EXPORT__=Link;try{Link.displayName="Link",Link.__docgenInfo={description:"",displayName:"Link",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Link.tsx#Link"]={docgenInfo:Link.__docgenInfo,name:"Link",path:"src/components/icons/Link.tsx#Link"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Linkedin.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const LinkedIn=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M847.7 112H176.3c-35.5 0-64.3 28.8-64.3 64.3v671.4c0 35.5 28.8 64.3 64.3 64.3h671.4c35.5 0 64.3-28.8 64.3-64.3V176.3c0-35.5-28.8-64.3-64.3-64.3zm0 736c-447.8-.1-671.7-.2-671.7-.3.1-447.8.2-671.7.3-671.7 447.8.1 671.7.2 671.7.3-.1 447.8-.2 671.7-.3 671.7zM230.6 411.9h118.7v381.8H230.6zm59.4-52.2c37.9 0 68.8-30.8 68.8-68.8a68.8 68.8 0 1 0-137.6 0c-.1 38 30.7 68.8 68.8 68.8zm252.3 245.1c0-49.8 9.5-98 71.2-98 60.8 0 61.7 56.9 61.7 101.2v185.7h118.6V584.3c0-102.8-22.2-181.9-142.3-181.9-57.7 0-96.4 31.7-112.3 61.7h-1.6v-52.2H423.7v381.8h118.6V604.8z"})});LinkedIn.displayName="LinkedIn";const __WEBPACK_DEFAULT_EXPORT__=LinkedIn;try{Linkedin.displayName="Linkedin",Linkedin.__docgenInfo={description:"",displayName:"Linkedin",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Linkedin.tsx#Linkedin"]={docgenInfo:Linkedin.__docgenInfo,name:"Linkedin",path:"src/components/icons/Linkedin.tsx#Linkedin"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Mail.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Mail=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"})});Mail.displayName="Mail";const __WEBPACK_DEFAULT_EXPORT__=Mail;try{Mail.displayName="Mail",Mail.__docgenInfo={description:"",displayName:"Mail",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Mail.tsx#Mail"]={docgenInfo:Mail.__docgenInfo,name:"Mail",path:"src/components/icons/Mail.tsx#Mail"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Share.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Share=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"})});Share.displayName="Share";const __WEBPACK_DEFAULT_EXPORT__=Share;try{Share.displayName="Share",Share.__docgenInfo={description:"",displayName:"Share",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Share.tsx#Share"]={docgenInfo:Share.__docgenInfo,name:"Share",path:"src/components/icons/Share.tsx#Share"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Telegram.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Telegram=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"})});Telegram.displayName="Telegram";const __WEBPACK_DEFAULT_EXPORT__=Telegram;try{Telegram.displayName="Telegram",Telegram.__docgenInfo={description:"",displayName:"Telegram",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Telegram.tsx#Telegram"]={docgenInfo:Telegram.__docgenInfo,name:"Telegram",path:"src/components/icons/Telegram.tsx#Telegram"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/Twitter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Twitter=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4a170.1 170.1 0 0 0 75-94 336.64 336.64 0 0 1-108.2 41.2A170.1 170.1 0 0 0 672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5a169.32 169.32 0 0 0-23.2 86.1c0 59.2 30.1 111.4 76 142.1a172 172 0 0 1-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4a180.6 180.6 0 0 1-44.9 5.8c-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"})});Twitter.displayName="Twitter";const __WEBPACK_DEFAULT_EXPORT__=Twitter;try{Twitter.displayName="Twitter",Twitter.__docgenInfo={description:"",displayName:"Twitter",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/Twitter.tsx#Twitter"]={docgenInfo:Twitter.__docgenInfo,name:"Twitter",path:"src/components/icons/Twitter.tsx#Twitter"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/icons/WhatsApp.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const WhatsApp=({className,title})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("svg",{...title?{}:{"aria-hidden":"true"},focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",className,"aria-label":title,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M713.5 599.9c-10.9-5.6-65.2-32.2-75.3-35.8-10.1-3.8-17.5-5.6-24.8 5.6-7.4 11.1-28.4 35.8-35 43.3-6.4 7.4-12.9 8.3-23.8 2.8-64.8-32.4-107.3-57.8-150-131.1-11.3-19.5 11.3-18.1 32.4-60.2 3.6-7.4 1.8-13.7-1-19.3-2.8-5.6-24.8-59.8-34-81.9-8.9-21.5-18.1-18.5-24.8-18.9-6.4-.4-13.7-.4-21.1-.4-7.4 0-19.3 2.8-29.4 13.7-10.1 11.1-38.6 37.8-38.6 92s39.5 106.7 44.9 114.1c5.6 7.4 77.7 118.6 188.4 166.5 70 30.2 97.4 32.8 132.4 27.6 21.3-3.2 65.2-26.6 74.3-52.5 9.1-25.8 9.1-47.9 6.4-52.5-2.7-4.9-10.1-7.7-21-13z"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3-41.3-41.3-89.5-73.8-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9-53.3 22.8-101.1 55.2-142 96.5-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9.3 69.4 16.9 138.3 48 199.9v152c0 25.4 20.6 46 46 46h152.1c61.6 31.1 130.5 47.7 199.9 48h2.1c59.9 0 118-11.6 172.7-34.3 53.5-22.3 101.6-54.3 142.8-95.2 41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"})]});WhatsApp.displayName="WhatsApp";const __WEBPACK_DEFAULT_EXPORT__=WhatsApp;try{WhatsApp.displayName="WhatsApp",WhatsApp.__docgenInfo={description:"",displayName:"WhatsApp",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/icons/WhatsApp.tsx#WhatsApp"]={docgenInfo:WhatsApp.__docgenInfo,name:"WhatsApp",path:"src/components/icons/WhatsApp.tsx#WhatsApp"})}catch(__react_docgen_typescript_loader_error){}},"./src/helpers/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DN:()=>correctMaterials,GZ:()=>isSkinnedMesh,I2:()=>isSafariIOS,K1:()=>hasTouchscreen,Lr:()=>mailRegEx,N8:()=>safeParseJSON,TG:()=>cleanUrl,Vx:()=>stripDuplicates,Zn:()=>escapeHTML,_e:()=>stripHTML,eA:()=>stripMarkdown,f9:()=>stripOutputTags,gI:()=>stripReasoningTags,lA:()=>installMathJax,mo:()=>stripDocumentAttachmentTags,nr:()=>isSafari,o6:()=>stripEmojis,xD:()=>useDebounceFn});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),three__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/three/build/three.module.js");const hasTouchscreen=()=>{let hasTouchScreen=!1;if("undefined"==typeof window||"undefined"==typeof navigator)return hasTouchScreen;if("maxTouchPoints"in navigator)hasTouchScreen=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)hasTouchScreen=navigator.msMaxTouchPoints>0;else{const mQ=window&&"matchMedia"in window&&matchMedia("(pointer:coarse)");if(mQ&&"(pointer:coarse)"===mQ.media)hasTouchScreen=!!mQ.matches;else if("orientation"in window)hasTouchScreen=!0;else{var UA=navigator?.userAgent;hasTouchScreen=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(UA)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(UA)}}return hasTouchScreen},isSafari=()=>{if("undefined"==typeof navigator)return!1;const userAgent=navigator.userAgent,isSafariUA=userAgent.includes("Safari")&&!userAgent.includes("Chrome"),isWebKit="WebKit"in window&&!("Chrome"in window);return isSafariUA||isWebKit},isSafariIOS=()=>{if("undefined"==typeof navigator)return!1;const userAgent=navigator.userAgent;return userAgent.includes("Safari")&&!userAgent.includes("Chrome")&&/iPad|iPhone|iPod/.test(userAgent)},mailRegEx=/^\w+([.-]?[+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/;function useDebounceFn(fn,delay){const timeoutId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),originalFn=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>(originalFn.current=fn,()=>{originalFn.current=null}),[fn]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>{clearTimeout(timeoutId.current)},[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(...args)=>{clearTimeout(timeoutId.current),timeoutId.current=window.setTimeout(()=>{originalFn.current&&originalFn.current(...args)},delay)},[delay])}const stripDuplicates=text=>text.slice(0,text.length/2).trim().toLowerCase()===text.slice(text.length/2+1).trim().toLowerCase()?text.slice(0,text.length/2):text,stripEmojis=text=>text.replaceAll(/[^\p{L}\p{N}\p{P}\p{Z}^$\n]/gu,"").trim(),stripMarkdown=text=>text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=(text=text.replaceAll(/```*?```/g,"")).replaceAll(/```[\s\S]*?```/g,"")).replaceAll(/`[^`]*`/g,"")).replaceAll(/!\[[^\]]*\]\([^)]*\)/g,"")).replaceAll(/\[([^\]]*)\]\([^)]*\)/g,"$1")).replaceAll(/^> /gm,"")).replaceAll(/^#+ /gm,"")).replaceAll(/[*_]/g,"")).replaceAll(/---/g,"")).replaceAll(/~~/g,"")).replaceAll(/^\s*[-*+] /gm,"")).replaceAll(/^\s*\d+\.\s+/gm,"")).replaceAll(/^\|.*\|$/gm,"")).replaceAll(/\$\$[\s\S]*?\$\$/g,"")).replaceAll(/\$[\s\S]*?\$/g,"")).replaceAll(/\\\([\s\S]*?\\\)/g,"")).replaceAll(/\\\[[\s\S]*?\\\]/g,"")).replaceAll(/\s+/g," ").trim(),stripDocumentAttachmentTags=text=>text.replace(/<document_attachment filename="([^"]+)" type="([^"]+)">([\s\S]*?)<\/document_attachment>/g,"$3"),stripOutputTags=text=>{const outputTagRegex=/<output.*?<\/output>/gs;if(!outputTagRegex.test(text))return text;const strippedText=text.replace(outputTagRegex,"");return stripOutputTags(strippedText)},stripReasoningTags=text=>{const reasoningTagRegex=/<think.*?<\/think>/gs;if(!reasoningTagRegex.test(text))return text;return text.replace(reasoningTagRegex,"")},stripHTML=text=>{const el=document.createElement("div");return el.innerHTML=text,el.textContent||""},escapeHTML=text=>{const el=document.createElement("textarea");return el.textContent=text,el.innerHTML};function cleanUrl(href){try{href=encodeURI(href).replace(/%25/g,"%")}catch(e){return null}return href}const mathJaxConfig={startup:{elements:[".memori-chat--bubble-content"]},options:{processHtmlClass:"memori-chat--bubble-content"},tex:{inlineMath:[["$","$"],["\\$","\\$"]],displayMath:[["$$","$$"]],processEscapes:!0},asciimath:{fixphi:!0,displaystyle:!0,decimalsign:"."},skipStartupTypeset:!0,chtml:{displayAlign:"left"},svg:{fontCache:"global"}},installMathJax=()=>{window.MathJax=mathJaxConfig,(()=>{const script=document.createElement("script");script.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",script.async=!0,script.id="mathjax-script",document.head.appendChild(script)})()};function correctMaterials(materials){Object.values(materials).forEach(material=>{material instanceof three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial&&(material.roughness=.8,material.metalness=.1,material.shadowSide=2,material.map&&(material.map.anisotropy=16))})}function isSkinnedMesh(object){return!0===object.isSkinnedMesh}const safeParseJSON=(jsonString,fallbackString=!1)=>{try{return JSON.parse(jsonString)}catch(error){return fallbackString?jsonString:null}}}}]);